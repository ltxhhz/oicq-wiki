<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>应用类api | oicq</title>
    <meta name="generator" content="VuePress 1.8.2">
    <link rel="icon" href="oicq-wiki/takayama.png">
    <meta name="description" content="oicq 项目文档">
    
    <link rel="preload" href="/oicq-wiki/assets/css/0.styles.f36fdbfd.css" as="style"><link rel="preload" href="/oicq-wiki/assets/js/app.879529c0.js" as="script"><link rel="preload" href="/oicq-wiki/assets/js/2.8d0e9e69.js" as="script"><link rel="preload" href="/oicq-wiki/assets/js/9.22d6aa8c.js" as="script"><link rel="preload" href="/oicq-wiki/assets/js/3.20fb0c26.js" as="script"><link rel="prefetch" href="/oicq-wiki/assets/js/10.8ad71eff.js"><link rel="prefetch" href="/oicq-wiki/assets/js/11.829f6d9d.js"><link rel="prefetch" href="/oicq-wiki/assets/js/12.1e47923c.js"><link rel="prefetch" href="/oicq-wiki/assets/js/13.7bc9dbeb.js"><link rel="prefetch" href="/oicq-wiki/assets/js/14.1e175bdb.js"><link rel="prefetch" href="/oicq-wiki/assets/js/15.9ce42cc7.js"><link rel="prefetch" href="/oicq-wiki/assets/js/16.88219e76.js"><link rel="prefetch" href="/oicq-wiki/assets/js/17.f0ea8a7f.js"><link rel="prefetch" href="/oicq-wiki/assets/js/18.4ece10f7.js"><link rel="prefetch" href="/oicq-wiki/assets/js/19.bb17ca78.js"><link rel="prefetch" href="/oicq-wiki/assets/js/20.732b7667.js"><link rel="prefetch" href="/oicq-wiki/assets/js/21.c5bf6134.js"><link rel="prefetch" href="/oicq-wiki/assets/js/4.cf18f11f.js"><link rel="prefetch" href="/oicq-wiki/assets/js/5.1bfef022.js"><link rel="prefetch" href="/oicq-wiki/assets/js/6.46ce296e.js"><link rel="prefetch" href="/oicq-wiki/assets/js/7.7ba6fa89.js"><link rel="prefetch" href="/oicq-wiki/assets/js/8.b9bd5eee.js">
    <link rel="stylesheet" href="/oicq-wiki/assets/css/0.styles.f36fdbfd.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/oicq-wiki/" class="home-link router-link-active"><!----> <span class="site-name">oicq</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="https://github.com/takayama-lily/oicq" target="_blank" rel="noopener noreferrer" class="nav-link external">
  github
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><a href="https://gitee.com/takayama/oicq" target="_blank" rel="noopener noreferrer" class="nav-link external">
  gitee
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><a href="https://qm.qq.com/cgi-bin/qm/qr?k=NXw3NEA5lzPjkRhyEpjVBqMpdg1WHRKJ&amp;jump_from=webapi" target="_blank" rel="noopener noreferrer" class="nav-link external">
  QQ群
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><a href="https://discord.gg/gKnU7BARzv" target="_blank" rel="noopener noreferrer" class="nav-link external">
  discord
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="https://github.com/takayama-lily/oicq" target="_blank" rel="noopener noreferrer" class="nav-link external">
  github
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><a href="https://gitee.com/takayama/oicq" target="_blank" rel="noopener noreferrer" class="nav-link external">
  gitee
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><a href="https://qm.qq.com/cgi-bin/qm/qr?k=NXw3NEA5lzPjkRhyEpjVBqMpdg1WHRKJ&amp;jump_from=webapi" target="_blank" rel="noopener noreferrer" class="nav-link external">
  QQ群
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><a href="https://discord.gg/gKnU7BARzv" target="_blank" rel="noopener noreferrer" class="nav-link external">
  discord
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><a href="/oicq-wiki/" class="sidebar-heading clickable router-link-active"><span>教程</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/oicq-wiki/api" class="sidebar-heading clickable router-link-active open"><span>api</span> <span class="arrow down"></span></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/oicq-wiki/api/成员属性.html" class="sidebar-link">成员属性</a></li><li><a href="/oicq-wiki/api/系统类api.html" class="sidebar-link">系统类api</a></li><li><a href="/oicq-wiki/api/应用类api.html" class="active sidebar-link">应用类api</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/oicq-wiki/api/应用类api.html#获取列表和资料" class="sidebar-link">获取列表和资料</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/oicq-wiki/api/应用类api.html#client-getgroupinfo-group-id-no-cache" class="sidebar-link">Client.getGroupInfo(groupid, nocache)</a></li><li class="sidebar-sub-header"><a href="/oicq-wiki/api/应用类api.html#client-getgroupmemberlist-group-id-no-cache" class="sidebar-link">Client.getGroupMemberList(groupid, nocache)</a></li><li class="sidebar-sub-header"><a href="/oicq-wiki/api/应用类api.html#client-getgroupmemberinfo-group-id-user-id-no-cache" class="sidebar-link">Client.getGroupMemberInfo(groupid, userid, no_cache)</a></li><li class="sidebar-sub-header"><a href="/oicq-wiki/api/应用类api.html#client-getstrangerinfo-user-id-no-cache" class="sidebar-link">Client.getStrangerInfo(userid, nocache)</a></li><li class="sidebar-sub-header"><a href="/oicq-wiki/api/应用类api.html#client-getfriendlist" class="sidebar-link">Client.getFriendList()</a></li><li class="sidebar-sub-header"><a href="/oicq-wiki/api/应用类api.html#client-getstrangerlist" class="sidebar-link">Client.getStrangerList()</a></li><li class="sidebar-sub-header"><a href="/oicq-wiki/api/应用类api.html#client-getgrouplist" class="sidebar-link">Client.getGroupList()</a></li><li class="sidebar-sub-header"><a href="/oicq-wiki/api/应用类api.html#client-getlogininfo" class="sidebar-link">Client.getLoginInfo()</a></li></ul></li><li class="sidebar-sub-header"><a href="/oicq-wiki/api/应用类api.html#消息相关" class="sidebar-link">消息相关</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/oicq-wiki/api/应用类api.html#client-sendprivatemsg-user-id-message-auto-escape" class="sidebar-link">Client.sendPrivateMsg(userid, message, autoescape)</a></li><li class="sidebar-sub-header"><a href="/oicq-wiki/api/应用类api.html#client-sendgroupmsg-group-id-message-auto-escape" class="sidebar-link">Client.sendGroupMsg(groupid, message, autoescape)</a></li><li class="sidebar-sub-header"><a href="/oicq-wiki/api/应用类api.html#client-senddiscussmsg-discuss-id-message-auto-escape" class="sidebar-link">Client.sendDiscussMsg(discussid, message, autoescape)</a></li><li class="sidebar-sub-header"><a href="/oicq-wiki/api/应用类api.html#client-sendtempmsg-group-id-user-id-message-auto-escape" class="sidebar-link">Client.sendTempMsg(groupid, userid, message, auto_escape)</a></li><li class="sidebar-sub-header"><a href="/oicq-wiki/api/应用类api.html#client-deletemsg-message-id" class="sidebar-link">Client.deleteMsg(message_id)</a></li><li class="sidebar-sub-header"><a href="/oicq-wiki/api/应用类api.html#client-reportreaded-message-id" class="sidebar-link">Client.reportReaded(message_id)</a></li><li class="sidebar-sub-header"><a href="/oicq-wiki/api/应用类api.html#client-getmsg-message-id" class="sidebar-link">Client.getMsg(message_id)</a></li><li class="sidebar-sub-header"><a href="/oicq-wiki/api/应用类api.html#client-getchathistory-message-id-count" class="sidebar-link">Client.getChatHistory(message_id, count)</a></li><li class="sidebar-sub-header"><a href="/oicq-wiki/api/应用类api.html#client-getforwardmsg-resid" class="sidebar-link">Client.getForwardMsg(resid)</a></li></ul></li><li class="sidebar-sub-header"><a href="/oicq-wiki/api/应用类api.html#构建消息" class="sidebar-link">构建消息</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/oicq-wiki/api/应用类api.html#text-text" class="sidebar-link">.text(text)</a></li><li class="sidebar-sub-header"><a href="/oicq-wiki/api/应用类api.html#at-qq-text-dummy" class="sidebar-link">.at(qq, text, dummy)</a></li><li class="sidebar-sub-header"><a href="/oicq-wiki/api/应用类api.html#face-id-text" class="sidebar-link">.face(id, text)</a></li><li class="sidebar-sub-header"><a href="/oicq-wiki/api/应用类api.html#sface-id-text" class="sidebar-link">.sface(id, text)</a></li><li class="sidebar-sub-header"><a href="/oicq-wiki/api/应用类api.html#bface-file" class="sidebar-link">.bface(file)</a></li><li class="sidebar-sub-header"><a href="/oicq-wiki/api/应用类api.html#rps-id" class="sidebar-link">.rps(id)</a></li><li class="sidebar-sub-header"><a href="/oicq-wiki/api/应用类api.html#dice-id" class="sidebar-link">.dice(id)</a></li><li class="sidebar-sub-header"><a href="/oicq-wiki/api/应用类api.html#image-file-cache-timeout-headers" class="sidebar-link">.image(file, cache, timeout, headers)</a></li><li class="sidebar-sub-header"><a href="/oicq-wiki/api/应用类api.html#flash-file-cache-timeout-headers" class="sidebar-link">.flash(file, cache, timeout, headers)</a></li><li class="sidebar-sub-header"><a href="/oicq-wiki/api/应用类api.html#record-file-cache-timeout-headers" class="sidebar-link">.record(file, cache, timeout, headers)</a></li><li class="sidebar-sub-header"><a href="/oicq-wiki/api/应用类api.html#video-file" class="sidebar-link">.video(file)</a></li><li class="sidebar-sub-header"><a href="/oicq-wiki/api/应用类api.html#location-lat-lng-address-id" class="sidebar-link">.location(lat, lng, address, id)</a></li><li class="sidebar-sub-header"><a href="/oicq-wiki/api/应用类api.html#music-type-id" class="sidebar-link">.music(type, id)</a></li><li class="sidebar-sub-header"><a href="/oicq-wiki/api/应用类api.html#json-data" class="sidebar-link">.json(data)</a></li><li class="sidebar-sub-header"><a href="/oicq-wiki/api/应用类api.html#xml-data-type" class="sidebar-link">.xml(data, type)</a></li><li class="sidebar-sub-header"><a href="/oicq-wiki/api/应用类api.html#share-url-title-image-content" class="sidebar-link">.share(url, title, image, content)</a></li><li class="sidebar-sub-header"><a href="/oicq-wiki/api/应用类api.html#shake" class="sidebar-link">.shake()</a></li><li class="sidebar-sub-header"><a href="/oicq-wiki/api/应用类api.html#poke-type-id" class="sidebar-link">.poke(type, id)</a></li><li class="sidebar-sub-header"><a href="/oicq-wiki/api/应用类api.html#reply-id" class="sidebar-link">.reply(id)</a></li><li class="sidebar-sub-header"><a href="/oicq-wiki/api/应用类api.html#node-id" class="sidebar-link">.node(id)</a></li><li class="sidebar-sub-header"><a href="/oicq-wiki/api/应用类api.html#anonymous-ignore" class="sidebar-link">.anonymous(ignore)</a></li><li class="sidebar-sub-header"><a href="/oicq-wiki/api/应用类api.html#mirai-data" class="sidebar-link">.mirai(data)</a></li><li class="sidebar-sub-header"><a href="/oicq-wiki/api/应用类api.html#segment-tocqcode-elem-s" class="sidebar-link">segment.toCqcode(elem(s))</a></li></ul></li><li class="sidebar-sub-header"><a href="/oicq-wiki/api/应用类api.html#系统消息处理" class="sidebar-link">系统消息处理</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/oicq-wiki/api/应用类api.html#client-setfriendaddrequest-flag-approve-remark-block" class="sidebar-link">Client.setFriendAddRequest(flag, approve, remark, block)</a></li><li class="sidebar-sub-header"><a href="/oicq-wiki/api/应用类api.html#client-setgroupaddrequest-flag-approve-remark-block" class="sidebar-link">Client.setGroupAddRequest(flag, approve, remark, block)</a></li><li class="sidebar-sub-header"><a href="/oicq-wiki/api/应用类api.html#client-getsystemmsg" class="sidebar-link">Client.getSystemMsg()</a></li></ul></li><li class="sidebar-sub-header"><a href="/oicq-wiki/api/应用类api.html#群操作" class="sidebar-link">群操作</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/oicq-wiki/api/应用类api.html#client-sendgroupnotice-group-id-content" class="sidebar-link">Client.sendGroupNotice(group_id, content)</a></li><li class="sidebar-sub-header"><a href="/oicq-wiki/api/应用类api.html#client-setgroupname-group-id-group-name" class="sidebar-link">Client.setGroupName(groupid, groupname)</a></li><li class="sidebar-sub-header"><a href="/oicq-wiki/api/应用类api.html#client-setgroupanonymous-group-id-enable" class="sidebar-link">Client.setGroupAnonymous(group_id, enable)</a></li><li class="sidebar-sub-header"><a href="/oicq-wiki/api/应用类api.html#client-setgroupwholeban-group-id-enable" class="sidebar-link">Client.setGroupWholeBan(group_id, enable)</a></li><li class="sidebar-sub-header"><a href="/oicq-wiki/api/应用类api.html#client-setgroupadmin-group-id-user-id-enable" class="sidebar-link">Client.setGroupAdmin(groupid, userid, enable)</a></li><li class="sidebar-sub-header"><a href="/oicq-wiki/api/应用类api.html#client-setgroupspecialtitle-group-id-user-id-special-title-duration" class="sidebar-link">Client.setGroupSpecialTitle(groupid, userid, special_title, duration)</a></li><li class="sidebar-sub-header"><a href="/oicq-wiki/api/应用类api.html#client-setgroupcard-group-id-user-id-card" class="sidebar-link">Client.setGroupCard(groupid, userid, card)</a></li><li class="sidebar-sub-header"><a href="/oicq-wiki/api/应用类api.html#client-setgroupkick-group-id-user-id-reject-add-request" class="sidebar-link">Client.setGroupKick(groupid, userid, rejectaddrequest)</a></li><li class="sidebar-sub-header"><a href="/oicq-wiki/api/应用类api.html#client-setgroupban-group-id-user-id-duration" class="sidebar-link">Client.setGroupBan(groupid, userid, duration)</a></li><li class="sidebar-sub-header"><a href="/oicq-wiki/api/应用类api.html#client-setgroupanonymousban-group-id-flag-duration-number" class="sidebar-link">Client.setGroupAnonymousBan(group_id, flag, duration?: number)</a></li><li class="sidebar-sub-header"><a href="/oicq-wiki/api/应用类api.html#client-setgroupleave-group-id-dismiss" class="sidebar-link">Client.setGroupLeave(group_id, dismiss)</a></li><li class="sidebar-sub-header"><a href="/oicq-wiki/api/应用类api.html#client-sendgrouppoke-group-id-user-id" class="sidebar-link">Client.sendGroupPoke(groupid, userid)</a></li><li class="sidebar-sub-header"><a href="/oicq-wiki/api/应用类api.html#client-setgroupportrait-group-id-file" class="sidebar-link">Client.setGroupPortrait(group_id, file)</a></li></ul></li><li class="sidebar-sub-header"><a href="/oicq-wiki/api/应用类api.html#个人相关" class="sidebar-link">个人相关</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/oicq-wiki/api/应用类api.html#client-setonlinestatus-status" class="sidebar-link">Client.setOnlineStatus(status)</a></li><li class="sidebar-sub-header"><a href="/oicq-wiki/api/应用类api.html#client-setnickname-nickname" class="sidebar-link">Client.setNickname(nickname)</a></li><li class="sidebar-sub-header"><a href="/oicq-wiki/api/应用类api.html#client-setgender-gender" class="sidebar-link">Client.setGender(gender)</a></li><li class="sidebar-sub-header"><a href="/oicq-wiki/api/应用类api.html#client-setbirthday-birthday" class="sidebar-link">Client.setBirthday(birthday)</a></li><li class="sidebar-sub-header"><a href="/oicq-wiki/api/应用类api.html#client-setdescription-description" class="sidebar-link">Client.setDescription(description)</a></li><li class="sidebar-sub-header"><a href="/oicq-wiki/api/应用类api.html#client-setsignature-signature-string" class="sidebar-link">Client.setSignature(signature?: string)</a></li><li class="sidebar-sub-header"><a href="/oicq-wiki/api/应用类api.html#client-setportrait-file" class="sidebar-link">Client.setPortrait(file)</a></li><li class="sidebar-sub-header"><a href="/oicq-wiki/api/应用类api.html#client-addgroup-group-id-comment" class="sidebar-link">Client.addGroup(group_id, comment)</a></li><li class="sidebar-sub-header"><a href="/oicq-wiki/api/应用类api.html#client-addfriend-group-id-user-id-comment" class="sidebar-link">Client.addFriend(groupid, userid, comment)</a></li><li class="sidebar-sub-header"><a href="/oicq-wiki/api/应用类api.html#client-deletefriend-user-id-block" class="sidebar-link">Client.deleteFriend(user_id, block)</a></li><li class="sidebar-sub-header"><a href="/oicq-wiki/api/应用类api.html#client-invitefriend-group-id-user-id" class="sidebar-link">Client.inviteFriend(groupid, userid)</a></li><li class="sidebar-sub-header"><a href="/oicq-wiki/api/应用类api.html#client-sendlike-user-id-number-times-number" class="sidebar-link">Client.sendLike(user_id: number, times?: number)</a></li></ul></li><li class="sidebar-sub-header"><a href="/oicq-wiki/api/应用类api.html#群文件系统" class="sidebar-link">群文件系统</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/oicq-wiki/api/应用类api.html#client-acquiregfs-group-id" class="sidebar-link">Client.acquireGfs(group_id)</a></li><li class="sidebar-sub-header"><a href="/oicq-wiki/api/应用类api.html#gfs-gid" class="sidebar-link">Gfs.gid</a></li><li class="sidebar-sub-header"><a href="/oicq-wiki/api/应用类api.html#gfs-stat-fid" class="sidebar-link">Gfs.stat(fid)</a></li><li class="sidebar-sub-header"><a href="/oicq-wiki/api/应用类api.html#gfs-ls-fid-start-limit" class="sidebar-link">Gfs.ls(fid, start, limit)</a></li><li class="sidebar-sub-header"><a href="/oicq-wiki/api/应用类api.html#gfs-mkdir-name-string" class="sidebar-link">Gfs.mkdir(name: string)</a></li><li class="sidebar-sub-header"><a href="/oicq-wiki/api/应用类api.html#gfs-rm-fid" class="sidebar-link">Gfs.rm(fid)</a></li><li class="sidebar-sub-header"><a href="/oicq-wiki/api/应用类api.html#gfs-rename-fid-name" class="sidebar-link">Gfs.rename(fid, name)</a></li><li class="sidebar-sub-header"><a href="/oicq-wiki/api/应用类api.html#gfs-mv-fid-pid" class="sidebar-link">Gfs.mv(fid, pid)</a></li><li class="sidebar-sub-header"><a href="/oicq-wiki/api/应用类api.html#gfs-df" class="sidebar-link">Gfs.df()</a></li><li class="sidebar-sub-header"><a href="/oicq-wiki/api/应用类api.html#gfs-upload-file-pid-name-process" class="sidebar-link">Gfs.upload(file, pid, name, process)</a></li><li class="sidebar-sub-header"><a href="/oicq-wiki/api/应用类api.html#gfs-download-fid" class="sidebar-link">Gfs.download(fid)</a></li></ul></li><li class="sidebar-sub-header"><a href="/oicq-wiki/api/应用类api.html#其他" class="sidebar-link">其他</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/oicq-wiki/api/应用类api.html#client-preloadimages-files" class="sidebar-link">Client.preloadImages(files)</a></li><li class="sidebar-sub-header"><a href="/oicq-wiki/api/应用类api.html#client-getroamingstamp-no-cache" class="sidebar-link">Client.getRoamingStamp(no_cache?: )</a></li><li class="sidebar-sub-header"><a href="/oicq-wiki/api/应用类api.html#client-getcookies-domain" class="sidebar-link">Client.getCookies(domain)</a></li><li class="sidebar-sub-header"><a href="/oicq-wiki/api/应用类api.html#client-getcsrftoken" class="sidebar-link">Client.getCsrfToken()</a></li><li class="sidebar-sub-header"><a href="/oicq-wiki/api/应用类api.html#client-cleancache-type" class="sidebar-link">Client.cleanCache(type)</a></li><li class="sidebar-sub-header"><a href="/oicq-wiki/api/应用类api.html#client-getstatus" class="sidebar-link">Client.getStatus()</a></li><li class="sidebar-sub-header"><a href="/oicq-wiki/api/应用类api.html#client-reloadfriendlist" class="sidebar-link">Client.reloadFriendList()</a></li><li class="sidebar-sub-header"><a href="/oicq-wiki/api/应用类api.html#client-reloadgrouplist" class="sidebar-link">Client.reloadGroupList()</a></li><li class="sidebar-sub-header"><a href="/oicq-wiki/api/应用类api.html#client-senduni-cmd-body" class="sidebar-link">Client.sendUni(cmd, body)</a></li><li class="sidebar-sub-header"><a href="/oicq-wiki/api/应用类api.html#client-sendoidb-cmd-body" class="sidebar-link">Client.sendOidb(cmd, body)</a></li><li class="sidebar-sub-header"><a href="/oicq-wiki/api/应用类api.html#client-em-name-string-data-any" class="sidebar-link">Client.em(name: string, data?: any)</a></li><li class="sidebar-sub-header"><a href="/oicq-wiki/api/应用类api.html#client-getgroupnotice-group-id" class="sidebar-link">Client.getGroupNotice(group_id)</a></li><li class="sidebar-sub-header"><a href="/oicq-wiki/api/应用类api.html#client-getlevelinfo-user-id" class="sidebar-link">Client.getLevelInfo(user_id)</a></li><li class="sidebar-sub-header"><a href="/oicq-wiki/api/应用类api.html#client-cansendimage" class="sidebar-link">Client.canSendImage()</a></li><li class="sidebar-sub-header"><a href="/oicq-wiki/api/应用类api.html#client-cansendrecord" class="sidebar-link">Client.canSendRecord()</a></li><li class="sidebar-sub-header"><a href="/oicq-wiki/api/应用类api.html#client-getversioninfo" class="sidebar-link">Client.getVersionInfo()</a></li></ul></li><li class="sidebar-sub-header"><a href="/oicq-wiki/api/应用类api.html#其他参数" class="sidebar-link">其他参数</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/oicq-wiki/api/应用类api.html#ret-object" class="sidebar-link">Ret&lt;object&gt;</a></li><li class="sidebar-sub-header"><a href="/oicq-wiki/api/应用类api.html#messageelem" class="sidebar-link">MessageElem</a></li><li class="sidebar-sub-header"><a href="/oicq-wiki/api/应用类api.html#commonrequesteventdata" class="sidebar-link">CommonRequestEventData</a></li><li class="sidebar-sub-header"><a href="/oicq-wiki/api/应用类api.html#commoneventdata" class="sidebar-link">CommonEventData</a></li><li class="sidebar-sub-header"><a href="/oicq-wiki/api/应用类api.html#commonmessageeventdata" class="sidebar-link">CommonMessageEventData</a></li><li class="sidebar-sub-header"><a href="/oicq-wiki/api/应用类api.html#privatemessageeventdata" class="sidebar-link">PrivateMessageEventData</a></li><li class="sidebar-sub-header"><a href="/oicq-wiki/api/应用类api.html#groupmessageeventdata" class="sidebar-link">GroupMessageEventData</a></li><li class="sidebar-sub-header"><a href="/oicq-wiki/api/应用类api.html#gfsbasestat" class="sidebar-link">GfsBaseStat</a></li></ul></li></ul></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/oicq-wiki/event" class="sidebar-heading clickable"><span>事件</span> <span class="arrow right"></span></a> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="应用类api"><a href="#应用类api" class="header-anchor">#</a> <strong>应用类</strong>api</h1> <div class="custom-block tip"><p class="custom-block-title">说明</p> <p>所有应用类API具有统一的返回值：<a href="#ret-object">Ret</a></p> <p>调用 <code>Promise</code> api 时无需使用<code>catch()</code>，需要判断是否成功请使用<a href="#ret-object">Ret</a>.<a href="#retcode">retcode</a>或<a href="#ret-object">Ret</a>.status<br>
大部分API没有<code>data</code>返回值<br>
API调用失败时你会得到一个<code>error</code>(包含<code>code</code>和<code>message</code>)</p></div> <div class="custom-block warning"><p class="custom-block-title">弃用说明</p> <p><strong>弃用</strong>只是不推荐使用，并不会删除</p></div> <p></p><div class="table-of-contents"><ul><li><a href="#获取列表和资料">获取列表和资料</a><ul><li><a href="#client-getgroupinfo-group-id-no-cache">Client.getGroupInfo(group_id, no_cache)</a></li><li><a href="#client-getgroupmemberlist-group-id-no-cache">Client.getGroupMemberList(group_id, no_cache)</a></li><li><a href="#client-getgroupmemberinfo-group-id-user-id-no-cache">Client.getGroupMemberInfo(group_id, user_id, no_cache)</a></li><li><a href="#client-getstrangerinfo-user-id-no-cache">Client.getStrangerInfo(user_id, no_cache)</a></li><li><a href="#client-getfriendlist-badge-text-弃用-type-warn">Client.getFriendList()  <span class="badge warn" style="vertical-align:top;" data-v-15b7b770>弃用</span></a></li><li><a href="#client-getstrangerlist-badge-text-弃用-type-warn">Client.getStrangerList() <span class="badge warn" style="vertical-align:top;" data-v-15b7b770>弃用</span></a></li><li><a href="#client-getgrouplist-badge-text-弃用-type-warn">Client.getGroupList() <span class="badge warn" style="vertical-align:top;" data-v-15b7b770>弃用</span></a></li><li><a href="#client-getlogininfo-badge-text-弃用-type-warn">Client.getLoginInfo() <span class="badge warn" style="vertical-align:top;" data-v-15b7b770>弃用</span></a></li></ul></li><li><a href="#消息相关">消息相关</a><ul><li><a href="#client-sendprivatemsg-user-id-message-auto-escape">Client.sendPrivateMsg(user_id, message, auto_escape)</a></li><li><a href="#client-sendgroupmsg-group-id-message-auto-escape">Client.sendGroupMsg(group_id, message, auto_escape)</a></li><li><a href="#client-senddiscussmsg-discuss-id-message-auto-escape">Client.sendDiscussMsg(discuss_id, message, auto_escape)</a></li><li><a href="#client-sendtempmsg-group-id-user-id-message-auto-escape">Client.sendTempMsg(group_id, user_id, message, auto_escape)</a></li><li><a href="#client-deletemsg-message-id">Client.deleteMsg(message_id)</a></li><li><a href="#client-reportreaded-message-id">Client.reportReaded(message_id)</a></li><li><a href="#client-getmsg-message-id">Client.getMsg(message_id)</a></li><li><a href="#client-getchathistory-message-id-count">Client.getChatHistory(message_id, count)</a></li><li><a href="#client-getforwardmsg-resid">Client.getForwardMsg(resid)</a></li></ul></li><li><a href="#构建消息">构建消息</a><ul><li><a href="#text-text">.text(text)</a></li><li><a href="#at-qq-text-dummy">.at(qq, text, dummy)</a></li><li><a href="#face-id-text">.face(id, text)</a></li><li><a href="#sface-id-text">.sface(id, text)</a></li><li><a href="#bface-file">.bface(file)</a></li><li><a href="#rps-id">.rps(id)</a></li><li><a href="#dice-id">.dice(id)</a></li><li><a href="#image-file-cache-timeout-headers">.image(file, cache, timeout, headers)</a></li><li><a href="#flash-file-cache-timeout-headers">.flash(file, cache, timeout, headers)</a></li><li><a href="#record-file-cache-timeout-headers">.record(file, cache, timeout, headers)</a></li><li><a href="#video-file">.video(file)</a></li><li><a href="#location-lat-lng-address-id">.location(lat, lng, address, id)</a></li><li><a href="#music-type-id">.music(type, id)</a></li><li><a href="#json-data">.json(data)</a></li><li><a href="#xml-data-type">.xml(data, type)</a></li><li><a href="#share-url-title-image-content">.share(url, title, image, content)</a></li><li><a href="#shake">.shake()</a></li><li><a href="#poke-type-id">.poke(type, id)</a></li><li><a href="#reply-id">.reply(id)</a></li><li><a href="#node-id">.node(id)</a></li><li><a href="#anonymous-ignore">.anonymous(ignore)</a></li><li><a href="#mirai-data">.mirai(data)</a></li><li><a href="#segment-tocqcode-elem-s">segment.toCqcode(elem(s))</a></li></ul></li><li><a href="#系统消息处理">系统消息处理</a><ul><li><a href="#client-setfriendaddrequest-flag-approve-remark-block">Client.setFriendAddRequest(flag, approve, remark, block)</a></li><li><a href="#client-setgroupaddrequest-flag-approve-remark-block">Client.setGroupAddRequest(flag, approve, remark, block)</a></li><li><a href="#client-getsystemmsg">Client.getSystemMsg()</a></li></ul></li><li><a href="#群操作">群操作</a><ul><li><a href="#client-sendgroupnotice-group-id-content">Client.sendGroupNotice(group_id, content)</a></li><li><a href="#client-setgroupname-group-id-group-name">Client.setGroupName(group_id, group_name)</a></li><li><a href="#client-setgroupanonymous-group-id-enable">Client.setGroupAnonymous(group_id, enable)</a></li><li><a href="#client-setgroupwholeban-group-id-enable">Client.setGroupWholeBan(group_id, enable)</a></li><li><a href="#client-setgroupadmin-group-id-user-id-enable">Client.setGroupAdmin(group_id, user_id, enable)</a></li><li><a href="#client-setgroupspecialtitle-group-id-user-id-special-title-duration">Client.setGroupSpecialTitle(group_id, user_id, special_title, duration)</a></li><li><a href="#client-setgroupcard-group-id-user-id-card">Client.setGroupCard(group_id, user_id, card)</a></li><li><a href="#client-setgroupkick-group-id-user-id-reject-add-request">Client.setGroupKick(group_id, user_id, reject_add_request)</a></li><li><a href="#client-setgroupban-group-id-user-id-duration">Client.setGroupBan(group_id, user_id, duration)</a></li><li><a href="#client-setgroupanonymousban-group-id-flag-duration-number">Client.setGroupAnonymousBan(group_id, flag, duration?: number)</a></li><li><a href="#client-setgroupleave-group-id-dismiss">Client.setGroupLeave(group_id, dismiss)</a></li><li><a href="#client-sendgrouppoke-group-id-user-id">Client.sendGroupPoke(group_id, user_id)</a></li><li><a href="#client-setgroupportrait-group-id-file">Client.setGroupPortrait(group_id, file)</a></li></ul></li><li><a href="#个人相关">个人相关</a><ul><li><a href="#client-setonlinestatus-status">Client.setOnlineStatus(status)</a></li><li><a href="#client-setnickname-nickname">Client.setNickname(nickname)</a></li><li><a href="#client-setgender-gender">Client.setGender(gender)</a></li><li><a href="#client-setbirthday-birthday">Client.setBirthday(birthday)</a></li><li><a href="#client-setdescription-description">Client.setDescription(description)</a></li><li><a href="#client-setsignature-signature-string">Client.setSignature(signature?: string)</a></li><li><a href="#client-setportrait-file">Client.setPortrait(file)</a></li><li><a href="#client-addgroup-group-id-comment">Client.addGroup(group_id, comment)</a></li><li><a href="#client-addfriend-group-id-user-id-comment">Client.addFriend(group_id, user_id, comment)</a></li><li><a href="#client-deletefriend-user-id-block">Client.deleteFriend(user_id, block)</a></li><li><a href="#client-invitefriend-group-id-user-id">Client.inviteFriend(group_id, user_id)</a></li><li><a href="#client-sendlike-user-id-number-times-number">Client.sendLike(user_id: number, times?: number)</a></li></ul></li><li><a href="#群文件系统">群文件系统</a><ul><li><a href="#client-acquiregfs-group-id">Client.acquireGfs(group_id)</a></li><li><a href="#gfs-gid-badge-text-只读">Gfs.gid <span class="badge tip" style="vertical-align:top;" data-v-15b7b770>只读</span></a></li><li><a href="#gfs-stat-fid">Gfs.stat(fid)</a></li><li><a href="#gfs-ls-fid-start-limit">Gfs.ls(fid, start, limit)</a></li><li><a href="#gfs-mkdir-name-string">Gfs.mkdir(name: string)</a></li><li><a href="#gfs-rm-fid">Gfs.rm(fid)</a></li><li><a href="#gfs-rename-fid-name">Gfs.rename(fid, name)</a></li><li><a href="#gfs-mv-fid-pid">Gfs.mv(fid, pid)</a></li><li><a href="#gfs-df">Gfs.df()</a></li><li><a href="#gfs-upload-file-pid-name-process">Gfs.upload(file, pid, name, process)</a></li><li><a href="#gfs-download-fid">Gfs.download(fid)</a></li></ul></li><li><a href="#其他">其他</a><ul><li><a href="#client-preloadimages-files">Client.preloadImages(files)</a></li><li><a href="#client-getroamingstamp-no-cache">Client.getRoamingStamp(no_cache?: )</a></li><li><a href="#client-getcookies-domain">Client.getCookies(domain)</a></li><li><a href="#client-getcsrftoken">Client.getCsrfToken()</a></li><li><a href="#client-cleancache-type">Client.cleanCache(type)</a></li><li><a href="#client-getstatus">Client.getStatus()</a></li><li><a href="#client-reloadfriendlist">Client.reloadFriendList()</a></li><li><a href="#client-reloadgrouplist">Client.reloadGroupList()</a></li><li><a href="#client-senduni-cmd-body-badge-text-内部">Client.sendUni(cmd, body)<span class="badge tip" style="vertical-align:top;" data-v-15b7b770>内部</span></a></li><li><a href="#client-sendoidb-cmd-body-badge-text-内部">Client.sendOidb(cmd, body)<span class="badge tip" style="vertical-align:top;" data-v-15b7b770>内部</span></a></li><li><a href="#client-em-name-string-data-any-badge-text-内部">Client.em(name: string, data?: any)<span class="badge tip" style="vertical-align:top;" data-v-15b7b770>内部</span></a></li><li><a href="#client-getgroupnotice-group-id-badge-text-弃用-type-warn">Client.getGroupNotice(group_id) <span class="badge warn" style="vertical-align:top;" data-v-15b7b770>弃用</span></a></li><li><a href="#client-getlevelinfo-user-id-badge-text-弃用-type-warn">Client.getLevelInfo(user_id) <span class="badge warn" style="vertical-align:top;" data-v-15b7b770>弃用</span></a></li><li><a href="#client-cansendimage-badge-text-弃用-type-warn">Client.canSendImage() <span class="badge warn" style="vertical-align:top;" data-v-15b7b770>弃用</span></a></li><li><a href="#client-cansendrecord-badge-text-弃用-type-warn">Client.canSendRecord() <span class="badge warn" style="vertical-align:top;" data-v-15b7b770>弃用</span></a></li><li><a href="#client-getversioninfo-badge-text-弃用-type-warn">Client.getVersionInfo() <span class="badge warn" style="vertical-align:top;" data-v-15b7b770>弃用</span></a></li></ul></li><li><a href="#其他参数">其他参数</a><ul><li><a href="#ret-lt-object-gt">Ret&lt;object&gt;</a></li><li><a href="#messageelem">MessageElem</a></li><li><a href="#commonrequesteventdata">CommonRequestEventData</a></li><li><a href="#commoneventdata">CommonEventData</a></li><li><a href="#commonmessageeventdata">CommonMessageEventData</a></li><li><a href="#privatemessageeventdata">PrivateMessageEventData</a></li><li><a href="#groupmessageeventdata">GroupMessageEventData</a></li><li><a href="#gfsbasestat">GfsBaseStat</a></li></ul></li></ul></div><p></p> <h2 id="获取列表和资料"><a href="#获取列表和资料" class="header-anchor">#</a> 获取列表和资料</h2> <h3 id="client-getgroupinfo-group-id-no-cache"><a href="#client-getgroupinfo-group-id-no-cache" class="header-anchor">#</a> Client.getGroupInfo(group_id, no_cache)</h3> <blockquote><p>获取群资料，该方法一般只用于强制刷新，请尽量从缓存中获取
<code>client.gl.get(gid)</code></p></blockquote> <table><thead><tr><th style="text-align:center;">参数</th> <th style="text-align:center;">类型</th> <th style="text-align:center;">默认</th> <th style="text-align:center;">说明</th></tr></thead> <tbody><tr><td style="text-align:center;">group_id</td> <td style="text-align:center;">number</td> <td style="text-align:center;"></td> <td style="text-align:center;">群号</td></tr> <tr><td style="text-align:center;">no_cache?</td> <td style="text-align:center;">boolean</td> <td style="text-align:center;"><code>false</code></td> <td style="text-align:center;">是否不使用缓存数据</td></tr></tbody></table> <p><strong>返回值</strong> <code>Promise</code>&lt;<a href="#ret-object">Ret</a>&lt;<a href="/oicq-wiki/api/成员属性.html#groupinfo">GroupInfo</a>&gt;&gt;</p> <h3 id="client-getgroupmemberlist-group-id-no-cache"><a href="#client-getgroupmemberlist-group-id-no-cache" class="header-anchor">#</a> Client.getGroupMemberList(group_id, no_cache)</h3> <blockquote><p>获取群成员列表，缓存于<code>Client.gml</code>中</p></blockquote> <table><thead><tr><th style="text-align:center;">参数</th> <th style="text-align:center;">类型</th> <th style="text-align:center;">默认</th> <th>说明</th></tr></thead> <tbody><tr><td style="text-align:center;">group_id</td> <td style="text-align:center;">number</td> <td style="text-align:center;"></td> <td>群号</td></tr> <tr><td style="text-align:center;">no_cache?</td> <td style="text-align:center;">boolean</td> <td style="text-align:center;"><code>false</code></td> <td>是否不使用缓存数据</td></tr></tbody></table> <p><strong>返回值</strong> <code>Promise</code>&lt;<a href="#ret-object">Ret</a>&lt;<code>Map</code>&lt;number, <a href="/oicq-wiki/api/成员属性.html#memberinfo">MemberInfo</a>&gt;&gt;&gt;</p> <h3 id="client-getgroupmemberinfo-group-id-user-id-no-cache"><a href="#client-getgroupmemberinfo-group-id-user-id-no-cache" class="header-anchor">#</a> Client.getGroupMemberInfo(group_id, user_id, no_cache)</h3> <blockquote><p>获取群员资料，缓存于<code>client.gml</code>中</p></blockquote> <table><thead><tr><th style="text-align:center;">参数</th> <th style="text-align:center;">类型</th> <th style="text-align:center;">默认</th> <th>说明</th></tr></thead> <tbody><tr><td style="text-align:center;">group_id</td> <td style="text-align:center;">number</td> <td style="text-align:center;"></td> <td>群号</td></tr> <tr><td style="text-align:center;">user_id</td> <td style="text-align:center;">number</td> <td style="text-align:center;"></td> <td>QQ号</td></tr> <tr><td style="text-align:center;">no_cache?</td> <td style="text-align:center;">boolean</td> <td style="text-align:center;"><code>false</code></td> <td>是否不使用缓存数据</td></tr></tbody></table> <p><strong>返回值</strong> <code>Promise</code>&lt;<a href="#ret-object">Ret</a>&lt;<a href="/oicq-wiki/api/成员属性.html#memberinfo">MemberInfo</a>&gt;&gt;</p> <h3 id="client-getstrangerinfo-user-id-no-cache"><a href="#client-getstrangerinfo-user-id-no-cache" class="header-anchor">#</a> Client.getStrangerInfo(user_id, no_cache)</h3> <blockquote><p>获取陌生人资料</p></blockquote> <table><thead><tr><th style="text-align:center;">参数</th> <th style="text-align:center;">类型</th> <th style="text-align:center;">默认</th> <th>说明</th></tr></thead> <tbody><tr><td style="text-align:center;">group_id</td> <td style="text-align:center;">number</td> <td style="text-align:center;"></td> <td>群号</td></tr> <tr><td style="text-align:center;">no_cache?</td> <td style="text-align:center;">boolean</td> <td style="text-align:center;"><code>false</code></td> <td>是否不使用缓存数据</td></tr></tbody></table> <p><strong>返回值</strong> <code>Promise</code>&lt;<a href="#ret-object">Ret</a>&lt;<a href="/oicq-wiki/api/成员属性.html#strangerinfo">StrangerInfo</a>&gt;&gt;</p> <h3 id="client-getfriendlist"><a href="#client-getfriendlist" class="header-anchor">#</a> Client.getFriendList()  <span class="badge warn" style="vertical-align:top;" data-v-15b7b770>弃用</span></h3> <blockquote><p>获取好友列表</p></blockquote> <div class="custom-block warning"><p class="custom-block-title">注意</p> <p><em><strong>已弃用</strong></em>
请直接访问 <a href="/oicq-wiki/api/#client">Client</a>.fl</p></div> <p><strong>返回值</strong> <a href="#ret-object">Ret</a>&lt;<a href="/oicq-wiki/api/#client">client</a>[&quot;fl&quot;]&gt;</p> <h3 id="client-getstrangerlist"><a href="#client-getstrangerlist" class="header-anchor">#</a> Client.getStrangerList() <span class="badge warn" style="vertical-align:top;" data-v-15b7b770>弃用</span></h3> <blockquote><p>获取陌生人列表</p></blockquote> <div class="custom-block warning"><p class="custom-block-title">注意</p> <p><em><strong>已弃用</strong></em>
请直接访问 <a href="/oicq-wiki/api/#client">Client</a>.sl</p></div> <p><strong>返回值</strong> <a href="#ret-object">Ret</a>&lt;<a href="/oicq-wiki/api/#client">client</a>[&quot;sl&quot;]&gt;</p> <h3 id="client-getgrouplist"><a href="#client-getgrouplist" class="header-anchor">#</a> Client.getGroupList() <span class="badge warn" style="vertical-align:top;" data-v-15b7b770>弃用</span></h3> <blockquote><p>获取群列表</p></blockquote> <div class="custom-block warning"><p class="custom-block-title">注意</p> <p><em><strong>已弃用</strong></em>
请直接访问 <a href="/oicq-wiki/api/#client">Client</a>.gl</p></div> <p><strong>返回值</strong> <a href="#ret-object">Ret</a>&lt;<a href="/oicq-wiki/api/#client">client</a>[&quot;gl&quot;]&gt;</p> <h3 id="client-getlogininfo"><a href="#client-getlogininfo" class="header-anchor">#</a> Client.getLoginInfo() <span class="badge warn" style="vertical-align:top;" data-v-15b7b770>弃用</span></h3> <blockquote><p>获取登录账号信息</p></blockquote> <div class="custom-block warning"><p class="custom-block-title">注意</p> <p><em><strong>已弃用</strong></em>
请直接访问 <a href="/oicq-wiki/api/#client">Client</a></p></div> <p><strong>返回值</strong> <a href="#ret-object">Ret</a>&lt;<a href="/oicq-wiki/api/成员属性.html#strangerinfo">StrangerInfo</a>&gt;</p> <h2 id="消息相关"><a href="#消息相关" class="header-anchor">#</a> 消息相关</h2> <h3 id="client-sendprivatemsg-user-id-message-auto-escape"><a href="#client-sendprivatemsg-user-id-message-auto-escape" class="header-anchor">#</a> Client.sendPrivateMsg(user_id, message, auto_escape)</h3> <blockquote><p>发送私聊消息</p></blockquote> <table><thead><tr><th style="text-align:center;">参数</th> <th style="text-align:center;">类型</th> <th style="text-align:center;">默认</th> <th>说明</th></tr></thead> <tbody><tr><td style="text-align:center;">user_id</td> <td style="text-align:center;">number</td> <td style="text-align:center;"></td> <td>QQ号</td></tr> <tr><td style="text-align:center;">message</td> <td style="text-align:center;"><a href="#messageelem">MessageElem</a>|Iterable&lt;<a href="#messageelem">MessageElem</a>&gt;| string</td> <td style="text-align:center;"></td> <td>消息内容</td></tr> <tr><td style="text-align:center;">auto_escape?</td> <td style="text-align:center;">boolean</td> <td style="text-align:center;"><code>false</code></td> <td>unknown</td></tr></tbody></table> <p><strong>返回值</strong> <code>Promise</code>&lt;<a href="#ret-object">Ret</a>&lt;{ message_id }&gt;&gt;</p> <table><thead><tr><th style="text-align:center;">参数</th> <th style="text-align:center;">类型</th> <th>说明</th></tr></thead> <tbody><tr><td style="text-align:center;">message_id</td> <td style="text-align:center;">string</td> <td>消息id</td></tr></tbody></table> <h3 id="client-sendgroupmsg-group-id-message-auto-escape"><a href="#client-sendgroupmsg-group-id-message-auto-escape" class="header-anchor">#</a> Client.sendGroupMsg(group_id, message, auto_escape)</h3> <blockquote><p>发送群消息</p></blockquote> <table><thead><tr><th style="text-align:center;">参数</th> <th style="text-align:center;">类型</th> <th style="text-align:center;">默认</th> <th>说明</th></tr></thead> <tbody><tr><td style="text-align:center;">group_id</td> <td style="text-align:center;">number</td> <td style="text-align:center;"></td> <td>群号</td></tr> <tr><td style="text-align:center;">message</td> <td style="text-align:center;"><a href="#messageelem">MessageElem</a> | Iterable&lt;<a href="#messageelem">MessageElem</a>&gt; | string</td> <td style="text-align:center;"></td> <td>消息内容</td></tr> <tr><td style="text-align:center;">auto_escape?</td> <td style="text-align:center;">boolean</td> <td style="text-align:center;"><code>false</code></td> <td>unknown</td></tr></tbody></table> <p><strong>返回值</strong> <code>Promise</code>&lt;<a href="#ret-object">Ret</a>&lt;{ message_id }&gt;&gt;</p> <h3 id="client-senddiscussmsg-discuss-id-message-auto-escape"><a href="#client-senddiscussmsg-discuss-id-message-auto-escape" class="header-anchor">#</a> Client.sendDiscussMsg(discuss_id, message, auto_escape)</h3> <blockquote><p>发送讨论组消息</p></blockquote> <table><thead><tr><th style="text-align:center;">参数</th> <th style="text-align:center;">类型</th> <th style="text-align:center;">默认</th> <th>说明</th></tr></thead> <tbody><tr><td style="text-align:center;">discuss_id</td> <td style="text-align:center;">number</td> <td style="text-align:center;"></td> <td>讨论组号</td></tr> <tr><td style="text-align:center;">message</td> <td style="text-align:center;"><a href="#messageelem">MessageElem</a> | Iterable&lt;<a href="#messageelem">MessageElem</a>&gt; | string</td> <td style="text-align:center;"></td> <td>消息内容</td></tr> <tr><td style="text-align:center;">auto_escape?</td> <td style="text-align:center;">boolean</td> <td style="text-align:center;"><code>false</code></td> <td>unknown</td></tr></tbody></table> <p><strong>返回值</strong> <code>Promise</code>&lt;<a href="#ret-object">Ret</a>&gt;</p> <h3 id="client-sendtempmsg-group-id-user-id-message-auto-escape"><a href="#client-sendtempmsg-group-id-user-id-message-auto-escape" class="header-anchor">#</a> Client.sendTempMsg(group_id, user_id, message, auto_escape)</h3> <blockquote><p>发送群临时会话，大多数时候可以使用私聊达到同样效果</p></blockquote> <table><thead><tr><th style="text-align:center;">参数</th> <th style="text-align:center;">类型</th> <th style="text-align:center;">默认</th> <th>说明</th></tr></thead> <tbody><tr><td style="text-align:center;">group_id</td> <td style="text-align:center;">number</td> <td style="text-align:center;"></td> <td>群号</td></tr> <tr><td style="text-align:center;">user_id</td> <td style="text-align:center;">number</td> <td style="text-align:center;"></td> <td>QQ号</td></tr> <tr><td style="text-align:center;">message</td> <td style="text-align:center;"><a href="#messageelem">MessageElem</a> | Iterable&lt;<a href="#messageelem">MessageElem</a>&gt; | string</td> <td style="text-align:center;"></td> <td>消息内容</td></tr> <tr><td style="text-align:center;">auto_escape?</td> <td style="text-align:center;">boolean</td> <td style="text-align:center;"><code>false</code></td> <td>unknown</td></tr></tbody></table> <p><strong>返回值</strong> <code>Promise</code>&lt;<a href="#ret-object">Ret</a>&lt;{ message_id }&gt;&gt;</p> <h3 id="client-deletemsg-message-id"><a href="#client-deletemsg-message-id" class="header-anchor">#</a> Client.deleteMsg(message_id)</h3> <blockquote><p>撤回消息</p></blockquote> <table><thead><tr><th style="text-align:center;">参数</th> <th style="text-align:center;">类型</th> <th style="text-align:center;">默认</th> <th>说明</th></tr></thead> <tbody><tr><td style="text-align:center;">message_id</td> <td style="text-align:center;">string</td> <td style="text-align:center;"></td> <td>消息id</td></tr></tbody></table> <p><strong>返回值</strong> <code>Promise</code>&lt;<a href="#ret-object">Ret</a>&gt;</p> <h3 id="client-reportreaded-message-id"><a href="#client-reportreaded-message-id" class="header-anchor">#</a> Client.reportReaded(message_id)</h3> <blockquote><p>置消息已读 (message_id及之前的消息将全部变为已读)</p></blockquote> <table><thead><tr><th style="text-align:center;">参数</th> <th style="text-align:center;">类型</th> <th style="text-align:center;">默认</th> <th>说明</th></tr></thead> <tbody><tr><td style="text-align:center;">message_id</td> <td style="text-align:center;">string</td> <td style="text-align:center;"></td> <td>消息id</td></tr></tbody></table> <p><strong>返回值</strong> <code>Promise</code>&lt;<a href="#ret-object">Ret</a>&gt;</p> <h3 id="client-getmsg-message-id"><a href="#client-getmsg-message-id" class="header-anchor">#</a> Client.getMsg(message_id)</h3> <blockquote><p>获取一条消息 (无法获取被撤回的消息)</p></blockquote> <table><thead><tr><th style="text-align:center;">参数</th> <th style="text-align:center;">类型</th> <th style="text-align:center;">默认</th> <th>说明</th></tr></thead> <tbody><tr><td style="text-align:center;">message_id</td> <td style="text-align:center;">string</td> <td style="text-align:center;"></td> <td>消息id</td></tr></tbody></table> <p><strong>返回值</strong> <code>Promise</code>&lt;<a href="#ret-object">Ret</a>&lt;<a href="#privatemessageeventdata">PrivateMessageEventData</a> | <a href="#groupmessageeventdata">GroupMessageEventData</a>&gt;&gt;</p> <h3 id="client-getchathistory-message-id-count"><a href="#client-getchathistory-message-id-count" class="header-anchor">#</a> Client.getChatHistory(message_id, count)</h3> <blockquote><p>获取message_id往前的count条消息(包括自身)
无法获取被撤回的消息，因此返回的数量并不一定为count
若要获取最新的20条消息，参考 <a href="/oicq-wiki/杂七杂八.html#message-id的规则和解析方法">message-id的规则和解析方法</a> 自行构造消息id，除群号外其余位补0</p></blockquote> <table><thead><tr><th style="text-align:center;">参数</th> <th style="text-align:center;">类型</th> <th style="text-align:center;">默认</th> <th>说明</th></tr></thead> <tbody><tr><td style="text-align:center;">message_id</td> <td style="text-align:center;">string</td> <td style="text-align:center;"></td> <td>消息id</td></tr> <tr><td style="text-align:center;">count?</td> <td style="text-align:center;">number</td> <td style="text-align:center;"><code>20</code></td> <td>获取消息条数，不能超过20</td></tr></tbody></table> <p><strong>返回值</strong> <code>Promise</code>&lt;<a href="#ret-object">Ret</a>&lt;<a href="#privatemessageeventdata">PrivateMessageEventData</a>[] | <a href="#groupmessageeventdata">GroupMessageEventData</a>[]&gt;&gt;</p> <h3 id="client-getforwardmsg-resid"><a href="#client-getforwardmsg-resid" class="header-anchor">#</a> Client.getForwardMsg(resid)</h3> <blockquote><p>获取转发消息
resid在xml消息中，需要自行解析xml获得
暂不支持套娃转发解析</p></blockquote> <table><thead><tr><th style="text-align:center;">参数</th> <th style="text-align:center;">类型</th> <th style="text-align:center;">默认</th> <th>说明</th></tr></thead> <tbody><tr><td style="text-align:center;">resid</td> <td style="text-align:center;">string</td> <td style="text-align:center;"></td> <td>转发消息id</td></tr></tbody></table> <p><strong>返回值</strong> <code>Promise</code>&lt;<a href="#ret-object">Ret</a>&lt;<code>Array</code>&lt;{
group_id?: number,
user_id: number,
nickname: string,
time: number,
message: <a href="#messageelem">MessageElem</a>[],
raw_message: string,
}&gt;&gt;&gt;</p> <hr> <h2 id="构建消息"><a href="#构建消息" class="header-anchor">#</a> 构建消息</h2> <div class="custom-block tip"><p class="custom-block-title">提示</p> <p>oicq中所有消息由模块中的工具类<code>segment</code>和<code>cqcode</code>中的方法构建</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> <span class="token punctuation">{</span> segment<span class="token punctuation">,</span> cqcode <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;oicq&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>cqcode中的方法的返回值类型均为<code>string</code>，也就是cq码</p> <p><strong>以下方法没有前缀的均为两种类都有的方法</strong></p></div> <h3 id="text-text"><a href="#text-text" class="header-anchor">#</a> .text(text)</h3> <blockquote><p>文本</p></blockquote> <table><thead><tr><th style="text-align:center;">参数</th> <th style="text-align:center;">类型</th> <th style="text-align:center;">默认</th> <th>说明</th></tr></thead> <tbody><tr><td style="text-align:center;">text</td> <td style="text-align:center;">string</td> <td style="text-align:center;"></td> <td>文本</td></tr></tbody></table> <p><strong>返回值</strong> <a href="#textelem">TextElem</a></p> <h3 id="at-qq-text-dummy"><a href="#at-qq-text-dummy" class="header-anchor">#</a> .at(qq, text, dummy)</h3> <blockquote><p>艾特</p></blockquote> <table><thead><tr><th style="text-align:center;">参数</th> <th style="text-align:center;">类型</th> <th style="text-align:center;">默认</th> <th>说明</th></tr></thead> <tbody><tr><td style="text-align:center;">qq</td> <td style="text-align:center;">number|<code>&quot;all&quot;</code></td> <td style="text-align:center;"></td> <td>qq</td></tr> <tr><td style="text-align:center;">text</td> <td style="text-align:center;">string</td> <td style="text-align:center;"><code>'@'</code>+qq|q名</td> <td></td></tr> <tr><td style="text-align:center;">dummy?</td> <td style="text-align:center;">boolean</td> <td style="text-align:center;"><code>false</code></td> <td>假at，只显示艾特文本</td></tr></tbody></table> <p><strong>返回值</strong> <a href="#atelem">AtElem</a></p> <h3 id="face-id-text"><a href="#face-id-text" class="header-anchor">#</a> .face(id, text)</h3> <blockquote><p>经典表情<br>
可以参考这里(<a href="https://koishi.js.org/QFace/" target="_blank" rel="noopener noreferrer">图片<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>/<a href="https://github.com/koishijs/QFace" target="_blank" rel="noopener noreferrer">项目<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>)的(可能更新不及时)</p></blockquote> <table><thead><tr><th style="text-align:center;">参数</th> <th style="text-align:center;">类型</th> <th style="text-align:center;">默认</th> <th>说明</th></tr></thead> <tbody><tr><td style="text-align:center;">id</td> <td style="text-align:center;">number</td> <td style="text-align:center;"></td> <td>表情id</td></tr> <tr><td style="text-align:center;">text?</td> <td style="text-align:center;">string</td> <td style="text-align:center;"></td> <td></td></tr></tbody></table> <p><strong>返回值</strong> <a href="#faceelem">FaceElem</a></p> <h3 id="sface-id-text"><a href="#sface-id-text" class="header-anchor">#</a> .sface(id, text)</h3> <blockquote><p>小表情(几乎不再使用)</p></blockquote> <table><thead><tr><th style="text-align:center;">参数</th> <th style="text-align:center;">类型</th> <th style="text-align:center;">默认</th> <th>说明</th></tr></thead> <tbody><tr><td style="text-align:center;">id</td> <td style="text-align:center;">number</td> <td style="text-align:center;"></td> <td>表情id</td></tr> <tr><td style="text-align:center;">text?</td> <td style="text-align:center;">string</td> <td style="text-align:center;"></td> <td></td></tr></tbody></table> <p><strong>返回值</strong> <a href="#faceelem">FaceElem</a></p> <h3 id="bface-file"><a href="#bface-file" class="header-anchor">#</a> .bface(file)</h3> <blockquote><p>原创表情</p></blockquote> <table><thead><tr><th style="text-align:center;">参数</th> <th style="text-align:center;">类型</th> <th style="text-align:center;">默认</th> <th style="text-align:center;">说明</th></tr></thead> <tbody><tr><td style="text-align:center;">file</td> <td style="text-align:center;">string</td> <td style="text-align:center;"></td> <td style="text-align:center;">文件路径</td></tr></tbody></table> <p><strong>返回值</strong> <a href="#bfaceelem">BfaceElem</a></p> <h3 id="rps-id"><a href="#rps-id" class="header-anchor">#</a> .rps(id)</h3> <blockquote><p>猜拳</p></blockquote> <table><thead><tr><th style="text-align:center;">参数</th> <th style="text-align:center;">类型</th> <th style="text-align:center;">默认</th> <th style="text-align:center;">说明</th></tr></thead> <tbody><tr><td style="text-align:center;">id?</td> <td style="text-align:center;">number</td> <td style="text-align:center;">``</td> <td style="text-align:center;">1~3</td></tr></tbody></table> <p><strong>返回值</strong> <a href="#mfaceelem">MfaceElem</a></p> <h3 id="dice-id"><a href="#dice-id" class="header-anchor">#</a> .dice(id)</h3> <blockquote><p>骰子</p></blockquote> <table><thead><tr><th style="text-align:center;">参数</th> <th style="text-align:center;">类型</th> <th style="text-align:center;">默认</th> <th>说明</th></tr></thead> <tbody><tr><td style="text-align:center;">id?</td> <td style="text-align:center;">number</td> <td style="text-align:center;">``</td> <td>1~6</td></tr></tbody></table> <p><strong>返回值</strong> <a href="#mfaceelem">MfaceElem</a></p> <h3 id="image-file-cache-timeout-headers"><a href="#image-file-cache-timeout-headers" class="header-anchor">#</a> .image(file, cache, timeout, headers)</h3> <blockquote><p>图片(后三个参数在下载网络资源时有效)</p></blockquote> <table><thead><tr><th style="text-align:center;">参数</th> <th style="text-align:center;">类型</th> <th style="text-align:center;">默认</th> <th>说明</th></tr></thead> <tbody><tr><td style="text-align:center;">file</td> <td style="text-align:center;"><a href="#mediafile">MediaFile</a></td> <td style="text-align:center;"></td> <td>文件</td></tr> <tr><td style="text-align:center;">cache?</td> <td style="text-align:center;">boolean</td> <td style="text-align:center;"><code>true</code></td> <td>file为网络资源时是否使用缓存</td></tr> <tr><td style="text-align:center;">timeout?</td> <td style="text-align:center;">number</td> <td style="text-align:center;">``</td> <td>file为网络资源时请求超时时间</td></tr> <tr><td style="text-align:center;">headers?</td> <td style="text-align:center;">OutgoingHttpHeaders</td> <td style="text-align:center;">``</td> <td>file为网络资源时请求头</td></tr></tbody></table> <p><strong>返回值</strong> <a href="#imgpttelem">ImgPttElem</a></p> <h3 id="flash-file-cache-timeout-headers"><a href="#flash-file-cache-timeout-headers" class="header-anchor">#</a> .flash(file, cache, timeout, headers)</h3> <blockquote><p>闪照(后三个参数在下载网络资源时有效)</p></blockquote> <table><thead><tr><th style="text-align:center;">参数</th> <th style="text-align:center;">类型</th> <th style="text-align:center;">默认</th> <th>说明</th></tr></thead> <tbody><tr><td style="text-align:center;">file</td> <td style="text-align:center;"><a href="#mediafile">MediaFile</a></td> <td style="text-align:center;"></td> <td>文件</td></tr> <tr><td style="text-align:center;">cache?</td> <td style="text-align:center;">boolean</td> <td style="text-align:center;"><code>true</code></td> <td>file为网络资源时是否使用缓存</td></tr> <tr><td style="text-align:center;">timeout?</td> <td style="text-align:center;">number</td> <td style="text-align:center;">``</td> <td>file为网络资源时请求超时时间</td></tr> <tr><td style="text-align:center;">headers?</td> <td style="text-align:center;">OutgoingHttpHeaders</td> <td style="text-align:center;">``</td> <td>file为网络资源时请求头</td></tr></tbody></table> <p><strong>返回值</strong> <a href="#imgpttelem">ImgPttElem</a></p> <h3 id="record-file-cache-timeout-headers"><a href="#record-file-cache-timeout-headers" class="header-anchor">#</a> .record(file, cache, timeout, headers)</h3> <blockquote><p>语音(后三个参数在下载网络资源时有效)</p></blockquote> <table><thead><tr><th style="text-align:center;">参数</th> <th style="text-align:center;">类型</th> <th style="text-align:center;">默认</th> <th>说明</th></tr></thead> <tbody><tr><td style="text-align:center;">file</td> <td style="text-align:center;"><a href="#mediafile">MediaFile</a></td> <td style="text-align:center;"></td> <td>文件</td></tr> <tr><td style="text-align:center;">cache?</td> <td style="text-align:center;">boolean</td> <td style="text-align:center;"><code>true</code></td> <td>file为网络资源时是否使用缓存</td></tr> <tr><td style="text-align:center;">timeout?</td> <td style="text-align:center;">number</td> <td style="text-align:center;">``</td> <td>file为网络资源时请求超时时间</td></tr> <tr><td style="text-align:center;">headers?</td> <td style="text-align:center;">OutgoingHttpHeaders</td> <td style="text-align:center;">``</td> <td>file为网络资源时请求头</td></tr></tbody></table> <p><strong>返回值</strong> <a href="#imgpttelem">ImgPttElem</a></p> <h3 id="video-file"><a href="#video-file" class="header-anchor">#</a> .video(file)</h3> <blockquote><p>视频</p></blockquote> <table><thead><tr><th style="text-align:center;">参数</th> <th style="text-align:center;">类型</th> <th style="text-align:center;">默认</th> <th>说明</th></tr></thead> <tbody><tr><td style="text-align:center;">file</td> <td style="text-align:center;">string</td> <td style="text-align:center;"></td> <td>发送仅支持本地文件路径或转发</td></tr></tbody></table> <p><strong>返回值</strong> <a href="#videoelem">VideoElem</a></p> <h3 id="location-lat-lng-address-id"><a href="#location-lat-lng-address-id" class="header-anchor">#</a> .location(lat, lng, address, id)</h3> <blockquote><p>地点分享</p></blockquote> <table><thead><tr><th style="text-align:center;">参数</th> <th style="text-align:center;">类型</th> <th style="text-align:center;">默认</th> <th>说明</th></tr></thead> <tbody><tr><td style="text-align:center;">lat</td> <td style="text-align:center;">number</td> <td style="text-align:center;"></td> <td>纬度</td></tr> <tr><td style="text-align:center;">lng</td> <td style="text-align:center;">number</td> <td style="text-align:center;"></td> <td>经度</td></tr> <tr><td style="text-align:center;">address</td> <td style="text-align:center;">string</td> <td style="text-align:center;"></td> <td>地点名</td></tr> <tr><td style="text-align:center;">id?</td> <td style="text-align:center;">string</td> <td style="text-align:center;">``</td> <td></td></tr></tbody></table> <p><strong>返回值</strong> <a href="#locationelem">LocationElem</a></p> <h3 id="music-type-id"><a href="#music-type-id" class="header-anchor">#</a> .music(type, id)</h3> <blockquote><p>音乐分享</p></blockquote> <table><thead><tr><th style="text-align:center;">参数</th> <th style="text-align:center;">类型</th> <th style="text-align:center;">默认</th> <th>说明</th></tr></thead> <tbody><tr><td style="text-align:center;">type</td> <td style="text-align:center;"><a href="#musictype">MusicType</a></td> <td style="text-align:center;"></td> <td>平台名</td></tr> <tr><td style="text-align:center;">id</td> <td style="text-align:center;">string</td> <td style="text-align:center;"></td> <td>音乐id</td></tr></tbody></table> <p><strong>返回值</strong> <a href="#musicelem">MusicElem</a></p> <h3 id="json-data"><a href="#json-data" class="header-anchor">#</a> .json(data)</h3> <blockquote><p>JSON消息</p></blockquote> <table><thead><tr><th style="text-align:center;">参数</th> <th style="text-align:center;">类型</th> <th style="text-align:center;">默认</th> <th>说明</th></tr></thead> <tbody><tr><td style="text-align:center;">data</td> <td style="text-align:center;">any</td> <td style="text-align:center;"></td> <td>一个 json 字符串或一个 json 对象</td></tr></tbody></table> <p><strong>返回值</strong> <a href="#jsonelem">JsonElem</a></p> <h3 id="xml-data-type"><a href="#xml-data-type" class="header-anchor">#</a> .xml(data, type)</h3> <blockquote><p>xml卡牌消息</p></blockquote> <table><thead><tr><th style="text-align:center;">参数</th> <th style="text-align:center;">类型</th> <th style="text-align:center;">默认</th> <th>说明</th></tr></thead> <tbody><tr><td style="text-align:center;">data</td> <td style="text-align:center;">string</td> <td style="text-align:center;"></td> <td></td></tr> <tr><td style="text-align:center;">type?</td> <td style="text-align:center;">number</td> <td style="text-align:center;">``</td> <td></td></tr></tbody></table> <p><strong>返回值</strong> <a href="#xmlelem">XmlElem</a></p> <h3 id="share-url-title-image-content"><a href="#share-url-title-image-content" class="header-anchor">#</a> .share(url, title, image, content)</h3> <blockquote><p>链接分享</p></blockquote> <table><thead><tr><th style="text-align:center;">参数</th> <th style="text-align:center;">类型</th> <th style="text-align:center;">默认</th> <th>说明</th></tr></thead> <tbody><tr><td style="text-align:center;">url</td> <td style="text-align:center;">string</td> <td style="text-align:center;"></td> <td>链接</td></tr> <tr><td style="text-align:center;">title</td> <td style="text-align:center;">string</td> <td style="text-align:center;"></td> <td>标题</td></tr> <tr><td style="text-align:center;">image?</td> <td style="text-align:center;">string</td> <td style="text-align:center;">``</td> <td></td></tr> <tr><td style="text-align:center;">content?</td> <td style="text-align:center;">string</td> <td style="text-align:center;">``</td> <td></td></tr></tbody></table> <p><strong>返回值</strong> <a href="#shareelem">ShareElem</a></p> <h3 id="shake"><a href="#shake" class="header-anchor">#</a> .shake()</h3> <blockquote><p>窗口抖动</p></blockquote> <p><strong>返回值</strong> <a href="#shakeelem">ShakeElem</a></p> <h3 id="poke-type-id"><a href="#poke-type-id" class="header-anchor">#</a> .poke(type, id)</h3> <blockquote><p>戳一戳</p></blockquote> <table><thead><tr><th style="text-align:center;">参数</th> <th style="text-align:center;">类型</th> <th style="text-align:center;">默认</th> <th>说明</th></tr></thead> <tbody><tr><td style="text-align:center;">type</td> <td style="text-align:center;">number</td> <td style="text-align:center;"></td> <td>0~6，分别对应哪种戳的类型</td></tr> <tr><td style="text-align:center;">id?</td> <td style="text-align:center;">number</td> <td style="text-align:center;">``</td> <td></td></tr></tbody></table> <p><strong>返回值</strong> <a href="#pokeelem">PokeElem</a></p> <h3 id="reply-id"><a href="#reply-id" class="header-anchor">#</a> .reply(id)</h3> <blockquote><p>引用回复</p></blockquote> <table><thead><tr><th style="text-align:center;">参数</th> <th style="text-align:center;">类型</th> <th style="text-align:center;">默认</th> <th>说明</th></tr></thead> <tbody><tr><td style="text-align:center;">id</td> <td style="text-align:center;">string</td> <td style="text-align:center;"></td> <td>message_id</td></tr></tbody></table> <p><strong>返回值</strong> <a href="#replyelem">ReplyElem</a></p> <h3 id="node-id"><a href="#node-id" class="header-anchor">#</a> .node(id)</h3> <blockquote><p>node</p></blockquote> <table><thead><tr><th style="text-align:center;">参数</th> <th style="text-align:center;">类型</th> <th style="text-align:center;">默认</th> <th>说明</th></tr></thead> <tbody><tr><td style="text-align:center;">id</td> <td style="text-align:center;">string</td> <td style="text-align:center;"></td> <td></td></tr></tbody></table> <p><strong>返回值</strong> <a href="#nodeelem">NodeElem</a></p> <h3 id="anonymous-ignore"><a href="#anonymous-ignore" class="header-anchor">#</a> .anonymous(ignore)</h3> <blockquote><p>匿名消息</p></blockquote> <table><thead><tr><th style="text-align:center;">参数</th> <th style="text-align:center;">类型</th> <th style="text-align:center;">默认</th> <th>说明</th></tr></thead> <tbody><tr><td style="text-align:center;">ignore?</td> <td style="text-align:center;">boolean</td> <td style="text-align:center;"><code>true</code></td> <td>匿名失败时是否继续发送</td></tr></tbody></table> <p><strong>返回值</strong> <a href="#anonymouselem">AnonymousElem</a></p> <h3 id="mirai-data"><a href="#mirai-data" class="header-anchor">#</a> .mirai(data)</h3> <blockquote><p>只有mirai系客户端可以解析的消息</p></blockquote> <table><thead><tr><th style="text-align:center;">参数</th> <th style="text-align:center;">类型</th> <th style="text-align:center;">默认</th> <th>说明</th></tr></thead> <tbody><tr><td style="text-align:center;">data</td> <td style="text-align:center;">string</td> <td style="text-align:center;"></td> <td></td></tr></tbody></table> <p><strong>返回值</strong> <a href="#miraielem">MiraiElem</a></p> <h3 id="segment-tocqcode-elem-s"><a href="#segment-tocqcode-elem-s" class="header-anchor">#</a> segment.toCqcode(elem(s))</h3> <blockquote><p>将元素转换到CQ码字符串(CQ码字符串无法逆转换到元素，因为类型会丢失)</p></blockquote> <table><thead><tr><th style="text-align:center;">参数</th> <th style="text-align:center;">类型</th> <th style="text-align:center;">默认</th> <th>说明</th></tr></thead> <tbody><tr><td style="text-align:center;">elem(s)</td> <td style="text-align:center;"><a href="#messageelem">MessageElem</a>|Iterable&lt;<a href="#messageelem">MessageElem</a>&gt;</td> <td style="text-align:center;"></td> <td></td></tr></tbody></table> <p><strong>返回值</strong> <code>string</code></p> <h2 id="系统消息处理"><a href="#系统消息处理" class="header-anchor">#</a> 系统消息处理</h2> <h3 id="client-setfriendaddrequest-flag-approve-remark-block"><a href="#client-setfriendaddrequest-flag-approve-remark-block" class="header-anchor">#</a> Client.setFriendAddRequest(flag, approve, remark, block)</h3> <blockquote><p>处理加好友请求</p></blockquote> <table><thead><tr><th style="text-align:center;">参数</th> <th style="text-align:center;">类型</th> <th style="text-align:center;">默认</th> <th>说明</th></tr></thead> <tbody><tr><td style="text-align:center;">flag</td> <td style="text-align:center;">string</td> <td style="text-align:center;"></td> <td>在[事件]中获得</td></tr> <tr><td style="text-align:center;">approve?</td> <td style="text-align:center;">boolean</td> <td style="text-align:center;"><code>true</code></td> <td>是否同意请求</td></tr> <tr><td style="text-align:center;">remark?</td> <td style="text-align:center;">string</td> <td style="text-align:center;"></td> <td></td></tr> <tr><td style="text-align:center;">block?</td> <td style="text-align:center;">boolean</td> <td style="text-align:center;"></td> <td></td></tr></tbody></table> <p><strong>返回值</strong> <code>Promise</code>&lt;<a href="#ret-object">Ret</a>&gt;</p> <h3 id="client-setgroupaddrequest-flag-approve-remark-block"><a href="#client-setgroupaddrequest-flag-approve-remark-block" class="header-anchor">#</a> Client.setGroupAddRequest(flag, approve, remark, block)</h3> <blockquote><p>处理入群请求</p></blockquote> <table><thead><tr><th style="text-align:center;">参数</th> <th style="text-align:center;">类型</th> <th style="text-align:center;">默认</th> <th>说明</th></tr></thead> <tbody><tr><td style="text-align:center;">flag</td> <td style="text-align:center;">string</td> <td style="text-align:center;"></td> <td>在[事件]中获得</td></tr> <tr><td style="text-align:center;">approve?</td> <td style="text-align:center;">boolean</td> <td style="text-align:center;"><code>true</code></td> <td>是否同意请求</td></tr> <tr><td style="text-align:center;">remark?</td> <td style="text-align:center;">string</td> <td style="text-align:center;"></td> <td></td></tr> <tr><td style="text-align:center;">block?</td> <td style="text-align:center;">boolean</td> <td style="text-align:center;"></td> <td></td></tr></tbody></table> <p><strong>返回值</strong> <code>Promise</code>&lt;<a href="#ret-object">Ret</a>&gt;</p> <h3 id="client-getsystemmsg"><a href="#client-getsystemmsg" class="header-anchor">#</a> Client.getSystemMsg()</h3> <blockquote><p>获取未处理的请求</p></blockquote> <p><strong>返回值</strong> <code>Promise</code>&lt;<a href="#ret-object">Ret</a>&lt;Array&lt;<a href="#friendaddeventdata">FriendAddEventData</a> | <a href="#groupaddeventdata">GroupAddEventData</a> | <a href="#groupinviteeventdata">GroupInviteEventData</a>&gt;&gt;&gt;</p> <h4 id="friendaddeventdata"><a href="#friendaddeventdata" class="header-anchor">#</a> FriendAddEventData</h4> <blockquote><p>添加好友事件数据<br>
继承于<a href="#commonrequesteventdata">公共请求事件数据</a></p></blockquote> <table><thead><tr><th style="text-align:center;">属性</th> <th style="text-align:center;">类型</th> <th style="text-align:center;">值</th> <th>说明</th></tr></thead> <tbody><tr><td style="text-align:center;">request_type</td> <td style="text-align:center;">string</td> <td style="text-align:center;"><code>&quot;friend&quot;</code></td> <td>请求类型</td></tr> <tr><td style="text-align:center;">sub_type</td> <td style="text-align:center;">string</td> <td style="text-align:center;"><code>&quot;add&quot;</code> | <code>&quot;single&quot;</code></td> <td>//加好友请求</td></tr> <tr><td style="text-align:center;">comment</td> <td style="text-align:center;">string</td> <td style="text-align:center;"></td> <td>附加信息</td></tr> <tr><td style="text-align:center;">source</td> <td style="text-align:center;">string</td> <td style="text-align:center;"></td> <td>来源(如&quot;条件查找&quot;)</td></tr> <tr><td style="text-align:center;">age</td> <td style="text-align:center;">number</td> <td style="text-align:center;"></td> <td>年龄</td></tr> <tr><td style="text-align:center;">sex</td> <td style="text-align:center;"><a href="/oicq-wiki/api/成员属性.html#gender">Gender</a></td> <td style="text-align:center;"></td> <td>性别</td></tr></tbody></table> <h4 id="groupaddeventdata"><a href="#groupaddeventdata" class="header-anchor">#</a> GroupAddEventData</h4> <blockquote><p>群请求事件数据<br>
继承于<a href="#commonrequesteventdata">公共请求事件数据</a></p></blockquote> <table><thead><tr><th style="text-align:center;">属性</th> <th style="text-align:center;">类型</th> <th style="text-align:center;">值</th> <th>说明</th></tr></thead> <tbody><tr><td style="text-align:center;">request_type</td> <td style="text-align:center;">string</td> <td style="text-align:center;"><code>&quot;group&quot;</code></td> <td>请求类型</td></tr> <tr><td style="text-align:center;">sub_type</td> <td style="text-align:center;">string</td> <td style="text-align:center;"><code>&quot;add&quot;</code></td> <td>加群请求</td></tr> <tr><td style="text-align:center;">group_id</td> <td style="text-align:center;">number</td> <td style="text-align:center;"></td> <td>群号</td></tr> <tr><td style="text-align:center;">group_name</td> <td style="text-align:center;">string</td> <td style="text-align:center;"></td> <td>群名</td></tr> <tr><td style="text-align:center;">comment</td> <td style="text-align:center;">string</td> <td style="text-align:center;"></td> <td>附加信息</td></tr> <tr><td style="text-align:center;">inviter_id?</td> <td style="text-align:center;">number</td> <td style="text-align:center;"></td> <td>邀请者(来自群员的邀请时)</td></tr> <tr><td style="text-align:center;">tips</td> <td style="text-align:center;">string</td> <td style="text-align:center;"></td> <td>如&quot;该帐号存在风险，请谨慎操作&quot;</td></tr></tbody></table> <h4 id="groupinviteeventdata"><a href="#groupinviteeventdata" class="header-anchor">#</a> GroupInviteEventData</h4> <blockquote><p>邀请入群事件数据<br>
继承于<a href="#commonrequesteventdata">公共请求事件数据</a></p></blockquote> <table><thead><tr><th style="text-align:center;">属性</th> <th style="text-align:center;">类型</th> <th style="text-align:center;">值</th> <th>说明</th></tr></thead> <tbody><tr><td style="text-align:center;">request_type</td> <td style="text-align:center;">string</td> <td style="text-align:center;"><code>&quot;group&quot;</code></td> <td>请求类型</td></tr> <tr><td style="text-align:center;">sub_type</td> <td style="text-align:center;">string</td> <td style="text-align:center;"><code>&quot;invite&quot;</code></td> <td>群邀请</td></tr> <tr><td style="text-align:center;">group_id</td> <td style="text-align:center;">number</td> <td style="text-align:center;"></td> <td>群号</td></tr> <tr><td style="text-align:center;">group_name</td> <td style="text-align:center;">string</td> <td style="text-align:center;"></td> <td>群名</td></tr> <tr><td style="text-align:center;">role</td> <td style="text-align:center;"><a href="/oicq-wiki/api/成员属性.html#grouprole">GroupRole</a></td> <td style="text-align:center;"></td> <td>邀请者权限</td></tr></tbody></table> <h2 id="群操作"><a href="#群操作" class="header-anchor">#</a> 群操作</h2> <h3 id="client-sendgroupnotice-group-id-content"><a href="#client-sendgroupnotice-group-id-content" class="header-anchor">#</a> Client.sendGroupNotice(group_id, content)</h3> <blockquote><p>发简易群公告</p></blockquote> <table><thead><tr><th style="text-align:center;">参数</th> <th style="text-align:center;">类型</th> <th style="text-align:center;">默认</th> <th>说明</th></tr></thead> <tbody><tr><td style="text-align:center;">group_id</td> <td style="text-align:center;">number</td> <td style="text-align:center;"></td> <td>群号</td></tr> <tr><td style="text-align:center;">content</td> <td style="text-align:center;">string</td> <td style="text-align:center;"></td> <td>内容</td></tr></tbody></table> <p><strong>返回值</strong> <code>Promise</code>&lt;<a href="#ret-object">Ret</a>&gt;</p> <h3 id="client-setgroupname-group-id-group-name"><a href="#client-setgroupname-group-id-group-name" class="header-anchor">#</a> Client.setGroupName(group_id, group_name)</h3> <blockquote><p>设置群名</p></blockquote> <table><thead><tr><th style="text-align:center;">参数</th> <th style="text-align:center;">类型</th> <th style="text-align:center;">默认</th> <th>说明</th></tr></thead> <tbody><tr><td style="text-align:center;">group_id</td> <td style="text-align:center;">number</td> <td style="text-align:center;"></td> <td>群号</td></tr> <tr><td style="text-align:center;">group_name</td> <td style="text-align:center;">string</td> <td style="text-align:center;"></td> <td>群名</td></tr></tbody></table> <p><strong>返回值</strong> <code>Promise</code>&lt;<a href="#ret-object">Ret</a>&gt;</p> <h3 id="client-setgroupanonymous-group-id-enable"><a href="#client-setgroupanonymous-group-id-enable" class="header-anchor">#</a> Client.setGroupAnonymous(group_id, enable)</h3> <blockquote><p>开启或关闭匿名功能</p></blockquote> <table><thead><tr><th style="text-align:center;">参数</th> <th style="text-align:center;">类型</th> <th style="text-align:center;">默认</th> <th>说明</th></tr></thead> <tbody><tr><td style="text-align:center;">group_id</td> <td style="text-align:center;">number</td> <td style="text-align:center;"></td> <td>群号</td></tr> <tr><td style="text-align:center;">enable?</td> <td style="text-align:center;">boolean</td> <td style="text-align:center;"><code>true</code></td> <td>是否打开</td></tr></tbody></table> <p><strong>返回值</strong> <code>Promise</code>&lt;<a href="#ret-object">Ret</a>&gt;</p> <h3 id="client-setgroupwholeban-group-id-enable"><a href="#client-setgroupwholeban-group-id-enable" class="header-anchor">#</a> Client.setGroupWholeBan(group_id, enable)</h3> <blockquote><p>全员禁言</p></blockquote> <table><thead><tr><th style="text-align:center;">参数</th> <th style="text-align:center;">类型</th> <th style="text-align:center;">默认</th> <th>说明</th></tr></thead> <tbody><tr><td style="text-align:center;">group_id</td> <td style="text-align:center;">number</td> <td style="text-align:center;"></td> <td>群号</td></tr> <tr><td style="text-align:center;">enable?</td> <td style="text-align:center;">boolean</td> <td style="text-align:center;"><code>true</code></td> <td>是否打开</td></tr></tbody></table> <p><strong>返回值</strong> <code>Promise</code>&lt;<a href="#ret-object">Ret</a>&gt;</p> <h3 id="client-setgroupadmin-group-id-user-id-enable"><a href="#client-setgroupadmin-group-id-user-id-enable" class="header-anchor">#</a> Client.setGroupAdmin(group_id, user_id, enable)</h3> <blockquote><p>设置管理员</p></blockquote> <table><thead><tr><th style="text-align:center;">参数</th> <th style="text-align:center;">类型</th> <th style="text-align:center;">默认</th> <th>说明</th></tr></thead> <tbody><tr><td style="text-align:center;">group_id</td> <td style="text-align:center;">number</td> <td style="text-align:center;"></td> <td>群号</td></tr> <tr><td style="text-align:center;">user_id</td> <td style="text-align:center;">number</td> <td style="text-align:center;"></td> <td>qq</td></tr> <tr><td style="text-align:center;">enable?</td> <td style="text-align:center;">boolean</td> <td style="text-align:center;"><code>true</code></td> <td>是否打开</td></tr></tbody></table> <p><strong>返回值</strong> <code>Promise</code>&lt;<a href="#ret-object">Ret</a>&gt;</p> <h3 id="client-setgroupspecialtitle-group-id-user-id-special-title-duration"><a href="#client-setgroupspecialtitle-group-id-user-id-special-title-duration" class="header-anchor">#</a> Client.setGroupSpecialTitle(group_id, user_id, special_title, duration)</h3> <blockquote><p>设置群头衔</p></blockquote> <table><thead><tr><th style="text-align:center;">参数</th> <th style="text-align:center;">类型</th> <th style="text-align:center;">默认</th> <th>说明</th></tr></thead> <tbody><tr><td style="text-align:center;">group_id</td> <td style="text-align:center;">number</td> <td style="text-align:center;"></td> <td>群号</td></tr> <tr><td style="text-align:center;">user_id</td> <td style="text-align:center;">number</td> <td style="text-align:center;"></td> <td>qq</td></tr> <tr><td style="text-align:center;">special_title?</td> <td style="text-align:center;">string</td> <td style="text-align:center;">``</td> <td>头衔</td></tr> <tr><td style="text-align:center;">duration?</td> <td style="text-align:center;">boolean</td> <td style="text-align:center;">``</td> <td>有效期</td></tr></tbody></table> <p><strong>返回值</strong> <code>Promise</code>&lt;<a href="#ret-object">Ret</a>&gt;</p> <h3 id="client-setgroupcard-group-id-user-id-card"><a href="#client-setgroupcard-group-id-user-id-card" class="header-anchor">#</a> Client.setGroupCard(group_id, user_id, card)</h3> <blockquote><p>设置群名片</p></blockquote> <table><thead><tr><th style="text-align:center;">参数</th> <th style="text-align:center;">类型</th> <th style="text-align:center;">默认</th> <th>说明</th></tr></thead> <tbody><tr><td style="text-align:center;">group_id</td> <td style="text-align:center;">number</td> <td style="text-align:center;"></td> <td>群号</td></tr> <tr><td style="text-align:center;">user_id</td> <td style="text-align:center;">number</td> <td style="text-align:center;"></td> <td>qq</td></tr> <tr><td style="text-align:center;">card?</td> <td style="text-align:center;">string</td> <td style="text-align:center;">``</td> <td>群昵称</td></tr></tbody></table> <p><strong>返回值</strong> <code>Promise</code>&lt;<a href="#ret-object">Ret</a>&gt;</p> <h3 id="client-setgroupkick-group-id-user-id-reject-add-request"><a href="#client-setgroupkick-group-id-user-id-reject-add-request" class="header-anchor">#</a> Client.setGroupKick(group_id, user_id, reject_add_request)</h3> <blockquote><p>踢人(不支持批量)</p></blockquote> <table><thead><tr><th style="text-align:center;">参数</th> <th style="text-align:center;">类型</th> <th style="text-align:center;">默认</th> <th>说明</th></tr></thead> <tbody><tr><td style="text-align:center;">group_id</td> <td style="text-align:center;">number</td> <td style="text-align:center;"></td> <td>群号</td></tr> <tr><td style="text-align:center;">user_id</td> <td style="text-align:center;">number</td> <td style="text-align:center;"></td> <td>qq</td></tr> <tr><td style="text-align:center;">reject_add_request?</td> <td style="text-align:center;">boolean</td> <td style="text-align:center;">``</td> <td>不再接收其群请求</td></tr></tbody></table> <p><strong>返回值</strong> <code>Promise</code>&lt;<a href="#ret-object">Ret</a>&gt;</p> <h3 id="client-setgroupban-group-id-user-id-duration"><a href="#client-setgroupban-group-id-user-id-duration" class="header-anchor">#</a> Client.setGroupBan(group_id, user_id, duration)</h3> <blockquote><p>禁言</p></blockquote> <table><thead><tr><th style="text-align:center;">参数</th> <th style="text-align:center;">类型</th> <th style="text-align:center;">默认</th> <th>说明</th></tr></thead> <tbody><tr><td style="text-align:center;">group_id</td> <td style="text-align:center;">number</td> <td style="text-align:center;"></td> <td>群号</td></tr> <tr><td style="text-align:center;">user_id</td> <td style="text-align:center;">number</td> <td style="text-align:center;"></td> <td>qq</td></tr> <tr><td style="text-align:center;">duration?</td> <td style="text-align:center;">number</td> <td style="text-align:center;"><code>1800</code></td> <td>禁言时间（秒）</td></tr></tbody></table> <p><strong>返回值</strong> <code>Promise</code>&lt;<a href="#ret-object">Ret</a>&gt;</p> <h3 id="client-setgroupanonymousban-group-id-flag-duration-number"><a href="#client-setgroupanonymousban-group-id-flag-duration-number" class="header-anchor">#</a> Client.setGroupAnonymousBan(group_id, flag, duration?: number)</h3> <blockquote><p>禁言匿名群员</p></blockquote> <table><thead><tr><th style="text-align:center;">参数</th> <th style="text-align:center;">类型</th> <th style="text-align:center;">默认</th> <th>说明</th></tr></thead> <tbody><tr><td style="text-align:center;">group_id</td> <td style="text-align:center;">number</td> <td style="text-align:center;"></td> <td>群号</td></tr> <tr><td style="text-align:center;">flag</td> <td style="text-align:center;">string</td> <td style="text-align:center;"></td> <td>在[消息事件]中</td></tr> <tr><td style="text-align:center;">duration?</td> <td style="text-align:center;">number</td> <td style="text-align:center;">``</td> <td>禁言时间（秒）</td></tr></tbody></table> <p><strong>返回值</strong> <code>Promise</code>&lt;<a href="#ret-object">Ret</a>&gt;</p> <h3 id="client-setgroupleave-group-id-dismiss"><a href="#client-setgroupleave-group-id-dismiss" class="header-anchor">#</a> Client.setGroupLeave(group_id, dismiss)</h3> <blockquote><p>退群</p></blockquote> <div class="custom-block warning"><p class="custom-block-title">注意</p> <p>dismiss参数可能无效，如果你是群主无论如何群都会立即解散</p></div> <table><thead><tr><th style="text-align:center;">参数</th> <th style="text-align:center;">类型</th> <th style="text-align:center;">默认</th> <th>说明</th></tr></thead> <tbody><tr><td style="text-align:center;">group_id</td> <td style="text-align:center;">number</td> <td style="text-align:center;"></td> <td>群号</td></tr> <tr><td style="text-align:center;">dismiss?</td> <td style="text-align:center;">boolean</td> <td style="text-align:center;"><code>false</code></td> <td>是否解散</td></tr></tbody></table> <p><strong>返回值</strong> <code>Promise</code>&lt;<a href="#ret-object">Ret</a>&gt;</p> <h3 id="client-sendgrouppoke-group-id-user-id"><a href="#client-sendgrouppoke-group-id-user-id" class="header-anchor">#</a> Client.sendGroupPoke(group_id, user_id)</h3> <blockquote><p>戳一戳(可以对好友使用)</p></blockquote> <table><thead><tr><th style="text-align:center;">参数</th> <th style="text-align:center;">类型</th> <th style="text-align:center;">默认</th> <th>说明</th></tr></thead> <tbody><tr><td style="text-align:center;">group_id</td> <td style="text-align:center;">number</td> <td style="text-align:center;"></td> <td>群号</td></tr> <tr><td style="text-align:center;">user_id</td> <td style="text-align:center;">number</td> <td style="text-align:center;"></td> <td>qq</td></tr></tbody></table> <p><strong>返回值</strong> <code>Promise</code>&lt;<a href="#ret-object">Ret</a>&gt;</p> <h3 id="client-setgroupportrait-group-id-file"><a href="#client-setgroupportrait-group-id-file" class="header-anchor">#</a> Client.setGroupPortrait(group_id, file)</h3> <blockquote><p>设置群头像</p></blockquote> <table><thead><tr><th style="text-align:center;">参数</th> <th style="text-align:center;">类型</th> <th style="text-align:center;">默认</th> <th>说明</th></tr></thead> <tbody><tr><td style="text-align:center;">group_id</td> <td style="text-align:center;">number</td> <td style="text-align:center;"></td> <td>群号</td></tr> <tr><td style="text-align:center;">file</td> <td style="text-align:center;"><a href="#mediafile">MediaFile</a></td> <td style="text-align:center;"></td> <td>媒体文件</td></tr></tbody></table> <p><strong>返回值</strong> <code>Promise</code>&lt;<a href="#ret-object">Ret</a>&gt;</p> <h2 id="个人相关"><a href="#个人相关" class="header-anchor">#</a> 个人相关</h2> <h3 id="client-setonlinestatus-status"><a href="#client-setonlinestatus-status" class="header-anchor">#</a> Client.setOnlineStatus(status)</h3> <blockquote><p>设置在线状态</p></blockquote> <table><thead><tr><th style="text-align:center;">参数</th> <th style="text-align:center;">类型</th> <th style="text-align:center;">默认</th> <th>说明</th></tr></thead> <tbody><tr><td style="text-align:center;">status</td> <td style="text-align:center;">number</td> <td style="text-align:center;"></td> <td><a href="/oicq-wiki/api/成员属性.html#在线状态">在线状态</a></td></tr></tbody></table> <p><strong>返回值</strong> <code>Promise</code>&lt;<a href="#ret-object">Ret</a>&gt;</p> <h3 id="client-setnickname-nickname"><a href="#client-setnickname-nickname" class="header-anchor">#</a> Client.setNickname(nickname)</h3> <blockquote><p>设置昵称</p></blockquote> <table><thead><tr><th style="text-align:center;">参数</th> <th style="text-align:center;">类型</th> <th style="text-align:center;">默认</th> <th>说明</th></tr></thead> <tbody><tr><td style="text-align:center;">nickname</td> <td style="text-align:center;">string</td> <td style="text-align:center;"></td> <td>昵称</td></tr></tbody></table> <p><strong>返回值</strong> <code>Promise</code>&lt;<a href="#ret-object">Ret</a>&gt;</p> <h3 id="client-setgender-gender"><a href="#client-setgender-gender" class="header-anchor">#</a> Client.setGender(gender)</h3> <blockquote><p>设置性别</p></blockquote> <table><thead><tr><th style="text-align:center;">参数</th> <th style="text-align:center;">类型</th> <th style="text-align:center;">默认</th> <th>说明</th></tr></thead> <tbody><tr><td style="text-align:center;">gender</td> <td style="text-align:center;">0|1|2</td> <td style="text-align:center;"></td> <td>未知|男|女</td></tr></tbody></table> <p><strong>返回值</strong> <code>Promise</code>&lt;<a href="#ret-object">Ret</a>&gt;</p> <h3 id="client-setbirthday-birthday"><a href="#client-setbirthday-birthday" class="header-anchor">#</a> Client.setBirthday(birthday)</h3> <blockquote><p>设置生日</p></blockquote> <table><thead><tr><th style="text-align:center;">参数</th> <th style="text-align:center;">类型</th> <th style="text-align:center;">默认</th> <th>说明</th></tr></thead> <tbody><tr><td style="text-align:center;">birthday</td> <td style="text-align:center;">string|number</td> <td style="text-align:center;"></td> <td>20110202的形式(yyyyMMdd)</td></tr></tbody></table> <p><strong>返回值</strong> <code>Promise</code>&lt;<a href="#ret-object">Ret</a>&gt;</p> <h3 id="client-setdescription-description"><a href="#client-setdescription-description" class="header-anchor">#</a> Client.setDescription(description)</h3> <blockquote><p>设置个人说明</p></blockquote> <table><thead><tr><th style="text-align:center;">参数</th> <th style="text-align:center;">类型</th> <th style="text-align:center;">默认</th> <th>说明</th></tr></thead> <tbody><tr><td style="text-align:center;">description?</td> <td style="text-align:center;">string</td> <td style="text-align:center;"><code>&quot;&quot;</code></td> <td>说明</td></tr></tbody></table> <p><strong>返回值</strong> <code>Promise</code>&lt;<a href="#ret-object">Ret</a>&gt;</p> <h3 id="client-setsignature-signature-string"><a href="#client-setsignature-signature-string" class="header-anchor">#</a> Client.setSignature(signature?: string)</h3> <blockquote><p>设置个性签名</p></blockquote> <table><thead><tr><th style="text-align:center;">参数</th> <th style="text-align:center;">类型</th> <th style="text-align:center;">默认</th> <th>说明</th></tr></thead> <tbody><tr><td style="text-align:center;">signature?</td> <td style="text-align:center;">string</td> <td style="text-align:center;"><code>&quot;&quot;</code></td> <td>个性签名</td></tr></tbody></table> <p><strong>返回值</strong> <code>Promise</code>&lt;<a href="#ret-object">Ret</a>&gt;</p> <h3 id="client-setportrait-file"><a href="#client-setportrait-file" class="header-anchor">#</a> Client.setPortrait(file)</h3> <blockquote><p>设置头像</p></blockquote> <table><thead><tr><th style="text-align:center;">参数</th> <th style="text-align:center;">类型</th> <th style="text-align:center;">默认</th> <th>说明</th></tr></thead> <tbody><tr><td style="text-align:center;">file</td> <td style="text-align:center;"><a href="#mediafile">MediaFile</a></td> <td style="text-align:center;"></td> <td>媒体文件</td></tr></tbody></table> <p><strong>返回值</strong> <code>Promise</code>&lt;<a href="#ret-object">Ret</a>&gt;</p> <h3 id="client-addgroup-group-id-comment"><a href="#client-addgroup-group-id-comment" class="header-anchor">#</a> Client.addGroup(group_id, comment)</h3> <blockquote><p>添加群</p></blockquote> <div class="custom-block warning"><p class="custom-block-title">注意</p> <p>该接口风控</p></div> <table><thead><tr><th style="text-align:center;">参数</th> <th style="text-align:center;">类型</th> <th style="text-align:center;">默认</th> <th>说明</th></tr></thead> <tbody><tr><td style="text-align:center;">group_id</td> <td style="text-align:center;">number</td> <td style="text-align:center;"></td> <td>群号</td></tr> <tr><td style="text-align:center;">comment?</td> <td style="text-align:center;">string</td> <td style="text-align:center;"><code>&quot;&quot;</code></td> <td>附言</td></tr></tbody></table> <p><strong>返回值</strong> <code>Promise</code>&lt;<a href="#ret-object">Ret</a>&gt;</p> <h3 id="client-addfriend-group-id-user-id-comment"><a href="#client-addfriend-group-id-user-id-comment" class="header-anchor">#</a> Client.addFriend(group_id, user_id, comment)</h3> <blockquote><p>添加<strong>群员</strong>为好友</p></blockquote> <table><thead><tr><th style="text-align:center;">参数</th> <th style="text-align:center;">类型</th> <th style="text-align:center;">默认</th> <th>说明</th></tr></thead> <tbody><tr><td style="text-align:center;">group_id</td> <td style="text-align:center;">number</td> <td style="text-align:center;"></td> <td>群号</td></tr> <tr><td style="text-align:center;">user_id</td> <td style="text-align:center;">number</td> <td style="text-align:center;"></td> <td>qq</td></tr> <tr><td style="text-align:center;">comment?</td> <td style="text-align:center;">string</td> <td style="text-align:center;"><code>&quot;&quot;</code></td> <td>附言</td></tr></tbody></table> <p><strong>返回值</strong> <code>Promise</code>&lt;<a href="#ret-object">Ret</a>&gt;</p> <h3 id="client-deletefriend-user-id-block"><a href="#client-deletefriend-user-id-block" class="header-anchor">#</a> Client.deleteFriend(user_id, block)</h3> <blockquote><p>删除好友</p></blockquote> <table><thead><tr><th style="text-align:center;">参数</th> <th style="text-align:center;">类型</th> <th style="text-align:center;">默认</th> <th>说明</th></tr></thead> <tbody><tr><td style="text-align:center;">user_id</td> <td style="text-align:center;">number</td> <td style="text-align:center;"></td> <td>qq</td></tr> <tr><td style="text-align:center;">block?</td> <td style="text-align:center;">boolean</td> <td style="text-align:center;">``</td> <td></td></tr></tbody></table> <p><strong>返回值</strong> <code>Promise</code>&lt;<a href="#ret-object">Ret</a>&gt;</p> <h3 id="client-invitefriend-group-id-user-id"><a href="#client-invitefriend-group-id-user-id" class="header-anchor">#</a> Client.inviteFriend(group_id, user_id)</h3> <blockquote><p>邀请好友入群(不支持陌生人和批量)</p></blockquote> <table><thead><tr><th style="text-align:center;">参数</th> <th style="text-align:center;">类型</th> <th style="text-align:center;">默认</th> <th>说明</th></tr></thead> <tbody><tr><td style="text-align:center;">group_id</td> <td style="text-align:center;">number</td> <td style="text-align:center;"></td> <td>群号</td></tr> <tr><td style="text-align:center;">user_id</td> <td style="text-align:center;">number</td> <td style="text-align:center;"></td> <td>qq</td></tr></tbody></table> <p><strong>返回值</strong> <code>Promise</code>&lt;<a href="#ret-object">Ret</a>&gt;</p> <h3 id="client-sendlike-user-id-number-times-number"><a href="#client-sendlike-user-id-number-times-number" class="header-anchor">#</a> Client.sendLike(user_id: number, times?: number)</h3> <blockquote><p>点赞(不支持陌生人)</p></blockquote> <table><thead><tr><th style="text-align:center;">参数</th> <th style="text-align:center;">类型</th> <th style="text-align:center;">默认</th> <th>说明</th></tr></thead> <tbody><tr><td style="text-align:center;">user_id</td> <td style="text-align:center;">number</td> <td style="text-align:center;"></td> <td>qq</td></tr> <tr><td style="text-align:center;">times?</td> <td style="text-align:center;">number</td> <td style="text-align:center;"><code>1</code></td> <td>次数</td></tr></tbody></table> <p><strong>返回值</strong> <code>Promise</code>&lt;<a href="#ret-object">Ret</a>&gt;</p> <h2 id="群文件系统"><a href="#群文件系统" class="header-anchor">#</a> 群文件系统</h2> <div class="custom-block warning"><p class="custom-block-title">注意</p> <p>这里面的方法是会reject的，需要catch
node15开始，unhandledRejection默认会升级为uncaughtException导致程序退出</p></div> <h3 id="client-acquiregfs-group-id"><a href="#client-acquiregfs-group-id" class="header-anchor">#</a> Client.acquireGfs(group_id)</h3> <blockquote><p>初始化一个群文件系统</p></blockquote> <table><thead><tr><th style="text-align:center;">参数</th> <th style="text-align:center;">类型</th> <th style="text-align:center;">默认</th> <th>说明</th></tr></thead> <tbody><tr><td style="text-align:center;">group_id</td> <td style="text-align:center;">number</td> <td style="text-align:center;"></td> <td>群号</td></tr></tbody></table> <p><strong>返回值</strong> <code>Gfs</code></p> <h3 id="gfs-gid"><a href="#gfs-gid" class="header-anchor">#</a> Gfs.gid <span class="badge tip" style="vertical-align:top;" data-v-15b7b770>只读</span></h3> <blockquote><p>群号</p></blockquote> <h3 id="gfs-stat-fid"><a href="#gfs-stat-fid" class="header-anchor">#</a> Gfs.stat(fid)</h3> <blockquote><p>查看文件属性(尽量不要对目录使用此方法)</p></blockquote> <table><thead><tr><th style="text-align:center;">参数</th> <th style="text-align:center;">类型</th> <th style="text-align:center;">默认</th> <th>说明</th></tr></thead> <tbody><tr><td style="text-align:center;">fid</td> <td style="text-align:center;">string</td> <td style="text-align:center;"></td> <td>文件或目录</td></tr></tbody></table> <p><strong>返回值</strong>
Promise&lt;<a href="#gfsstat">GfsStat</a>&gt;</p> <h4 id="gfsstat"><a href="#gfsstat" class="header-anchor">#</a> GfsStat</h4> <table><thead><tr><th style="text-align:center;">值</th> <th>说明</th></tr></thead> <tbody><tr><td style="text-align:center;"><a href="#gfsdirstat">GfsDirStat</a></td> <td>目录属性</td></tr> <tr><td style="text-align:center;"><a href="#gfsfilestat">GfsFileStat</a></td> <td>文件属性</td></tr></tbody></table> <h3 id="gfs-ls-fid-start-limit"><a href="#gfs-ls-fid-start-limit" class="header-anchor">#</a> Gfs.ls(fid, start, limit)</h3> <blockquote><p>列出文件<br> <code>Gfs.dir(fid, start, limit)</code>别名</p></blockquote> <table><thead><tr><th style="text-align:center;">参数</th> <th style="text-align:center;">类型</th> <th style="text-align:center;">默认</th> <th>说明</th></tr></thead> <tbody><tr><td style="text-align:center;">fid?</td> <td style="text-align:center;">string</td> <td style="text-align:center;">``</td> <td>文件或目录</td></tr> <tr><td style="text-align:center;">start?</td> <td style="text-align:center;">number</td> <td style="text-align:center;"><code>0</code></td> <td>开始的索引</td></tr> <tr><td style="text-align:center;">limit?</td> <td style="text-align:center;">number</td> <td style="text-align:center;"><code>100</code></td> <td>限制,最大100</td></tr></tbody></table> <p><strong>返回值</strong>
Promise&lt;<a href="#gfsstat">GfsStat</a>[]&gt;</p> <h3 id="gfs-mkdir-name-string"><a href="#gfs-mkdir-name-string" class="header-anchor">#</a> Gfs.mkdir(name: string)</h3> <blockquote><p>创建目录<br>
只能在根目录下创建目录</p></blockquote> <table><thead><tr><th style="text-align:center;">参数</th> <th style="text-align:center;">类型</th> <th style="text-align:center;">默认</th> <th>说明</th></tr></thead> <tbody><tr><td style="text-align:center;">name?</td> <td style="text-align:center;">string</td> <td style="text-align:center;"></td> <td>目录</td></tr></tbody></table> <p><strong>返回值</strong>
Promise&lt;<a href="#gfsdirstat">GfsDirStat</a>&gt;</p> <h4 id="gfsdirstat"><a href="#gfsdirstat" class="header-anchor">#</a> GfsDirStat</h4> <blockquote><p>目录属性<br>
继承于<a href="#gfsbasestat">群文件基础属性</a></p></blockquote> <table><thead><tr><th style="text-align:center;">属性</th> <th style="text-align:center;">类型</th> <th>说明</th></tr></thead> <tbody><tr><td style="text-align:center;">file_count</td> <td style="text-align:center;">number</td> <td>文件数</td></tr> <tr><td style="text-align:center;">is_dir</td> <td style="text-align:center;"><code>true</code></td> <td>是否为目录</td></tr></tbody></table> <h3 id="gfs-rm-fid"><a href="#gfs-rm-fid" class="header-anchor">#</a> Gfs.rm(fid)</h3> <blockquote><p>删除文件或目录(删除目标是目录的时候会删除下面的所有文件)</p></blockquote> <table><thead><tr><th style="text-align:center;">参数</th> <th style="text-align:center;">类型</th> <th style="text-align:center;">默认</th> <th>说明</th></tr></thead> <tbody><tr><td style="text-align:center;">fid</td> <td style="text-align:center;">string</td> <td style="text-align:center;"></td> <td>文件或目录</td></tr></tbody></table> <p><strong>返回值</strong>
Promise&lt;void&gt;</p> <h3 id="gfs-rename-fid-name"><a href="#gfs-rename-fid-name" class="header-anchor">#</a> Gfs.rename(fid, name)</h3> <blockquote><p>重命名文件或目录</p></blockquote> <table><thead><tr><th style="text-align:center;">参数</th> <th style="text-align:center;">类型</th> <th style="text-align:center;">默认</th> <th>说明</th></tr></thead> <tbody><tr><td style="text-align:center;">fid</td> <td style="text-align:center;">string</td> <td style="text-align:center;"></td> <td>文件或目录</td></tr> <tr><td style="text-align:center;">name</td> <td style="text-align:center;">string</td> <td style="text-align:center;"></td> <td>文件名或目录名</td></tr></tbody></table> <p><strong>返回值</strong>
Promise&lt;void&gt;</p> <h3 id="gfs-mv-fid-pid"><a href="#gfs-mv-fid-pid" class="header-anchor">#</a> Gfs.mv(fid, pid)</h3> <blockquote><p>移动文件到其他目录</p></blockquote> <table><thead><tr><th style="text-align:center;">参数</th> <th style="text-align:center;">类型</th> <th style="text-align:center;">默认</th> <th>说明</th></tr></thead> <tbody><tr><td style="text-align:center;">fid</td> <td style="text-align:center;">string</td> <td style="text-align:center;"></td> <td>文件或目录</td></tr> <tr><td style="text-align:center;">pid</td> <td style="text-align:center;">string</td> <td style="text-align:center;"></td> <td>父目录</td></tr></tbody></table> <p><strong>返回值</strong>
Promise&lt;void&gt;</p> <h3 id="gfs-df"><a href="#gfs-df" class="header-anchor">#</a> Gfs.df()</h3> <blockquote><p>查看可用空间和文件数量</p></blockquote> <p><strong>返回值</strong>：</p> <div class="language-js extra-class"><pre class="language-js"><code>Promise<span class="token operator">&lt;</span><span class="token punctuation">{</span>
    total<span class="token operator">:</span> number<span class="token punctuation">,</span><span class="token comment">//总容量</span>
    used<span class="token operator">:</span> number<span class="token punctuation">,</span><span class="token comment">//已用</span>
    free<span class="token operator">:</span> number<span class="token punctuation">,</span><span class="token comment">//剩余</span>
    file_count<span class="token operator">:</span> number<span class="token punctuation">,</span><span class="token comment">//</span>
    max_file_count<span class="token operator">:</span> number<span class="token punctuation">,</span><span class="token comment">//</span>
<span class="token punctuation">}</span><span class="token operator">&gt;</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="gfs-upload-file-pid-name-process"><a href="#gfs-upload-file-pid-name-process" class="header-anchor">#</a> Gfs.upload(file, pid, name, process)</h3> <blockquote><p>上传文件,仅支持本地文件路径或Buffer<br>
大文件上传时开启<a href="/oicq-wiki/api/#log-level的合法值">debug</a>可以打印上传进度</p></blockquote> <table><thead><tr><th style="text-align:center;">参数</th> <th style="text-align:center;">类型</th> <th style="text-align:center;">默认</th> <th>说明</th></tr></thead> <tbody><tr><td style="text-align:center;">file</td> <td style="text-align:center;"><a href="#mediafile">MediaFile</a></td> <td style="text-align:center;"></td> <td>文件</td></tr> <tr><td style="text-align:center;">pid?</td> <td style="text-align:center;">string</td> <td style="text-align:center;"><code>'/'</code></td> <td>父目录，默认传到根目录</td></tr> <tr><td style="text-align:center;">name?</td> <td style="text-align:center;">string</td> <td style="text-align:center;">``</td> <td>文件名?</td></tr> <tr><td style="text-align:center;"><a href="#processpercentage">process</a></td> <td style="text-align:center;">function</td> <td style="text-align:center;"><code>undefined</code></td> <td>上传进度回调函数</td></tr></tbody></table> <p><strong>返回值</strong> <code>Promise</code>&lt;<a href="#gfsfilestat">GfsFileStat</a>&gt;</p> <h4 id="process-percentage"><a href="#process-percentage" class="header-anchor">#</a> process(percentage)</h4> <blockquote><p>上传进度回调函数</p></blockquote> <table><thead><tr><th style="text-align:center;">参数</th> <th style="text-align:center;">类型</th> <th>说明</th></tr></thead> <tbody><tr><td style="text-align:center;">percentage</td> <td style="text-align:center;">string</td> <td>百分比</td></tr></tbody></table> <hr> <h4 id="gfsfilestat"><a href="#gfsfilestat" class="header-anchor">#</a> GfsFileStat</h4> <blockquote><p>文件属性<br>
继承于<a href="#gfsbasestat">群文件基础属性</a></p></blockquote> <table><thead><tr><th style="text-align:center;">属性</th> <th style="text-align:center;">类型</th> <th>说明</th></tr></thead> <tbody><tr><td style="text-align:center;">size</td> <td style="text-align:center;">number</td> <td>文件大小(字节)</td></tr> <tr><td style="text-align:center;">busid</td> <td style="text-align:center;">number</td> <td></td></tr> <tr><td style="text-align:center;">md5</td> <td style="text-align:center;">string</td> <td></td></tr> <tr><td style="text-align:center;">sha1</td> <td style="text-align:center;">string</td> <td></td></tr> <tr><td style="text-align:center;">duration</td> <td style="text-align:center;">number</td> <td>有效时间</td></tr> <tr><td style="text-align:center;">download_times</td> <td style="text-align:center;">number</td> <td>下载次数</td></tr></tbody></table> <h3 id="gfs-download-fid"><a href="#gfs-download-fid" class="header-anchor">#</a> Gfs.download(fid)</h3> <blockquote><p>获取文件的下载链接</p></blockquote> <table><thead><tr><th style="text-align:center;">参数</th> <th style="text-align:center;">类型</th> <th style="text-align:center;">默认</th> <th>说明</th></tr></thead> <tbody><tr><td style="text-align:center;">fid</td> <td style="text-align:center;">string</td> <td style="text-align:center;"></td> <td>文件</td></tr></tbody></table> <p><strong>返回值</strong> <code>Promise</code>&lt;<a href="#fileelem">FileElem</a>[&quot;data&quot;]&gt;</p> <h2 id="其他"><a href="#其他" class="header-anchor">#</a> 其他</h2> <h3 id="client-preloadimages-files"><a href="#client-preloadimages-files" class="header-anchor">#</a> Client.preloadImages(files)</h3> <blockquote><p>预先上传图片以备发送
通常图片在发送时一并上传
提前上传可用于加快发送速度，实现秒发</p></blockquote> <table><thead><tr><th style="text-align:center;">参数</th> <th style="text-align:center;">类型</th> <th style="text-align:center;">默认</th> <th>说明</th></tr></thead> <tbody><tr><td style="text-align:center;">files</td> <td style="text-align:center;">Iterable&lt;<a href="#mediafile">MediaFile</a>&gt;</td> <td style="text-align:center;"></td> <td>媒体文件</td></tr></tbody></table> <p><strong>返回值</strong> <code>Promise</code>&lt;<a href="#ret-object">Ret</a>&lt;string[]&gt;&gt;</p> <h3 id="client-getroamingstamp-no-cache"><a href="#client-getroamingstamp-no-cache" class="header-anchor">#</a> Client.getRoamingStamp(no_cache?: )</h3> <blockquote><p>获取漫游表情</p></blockquote> <table><thead><tr><th style="text-align:center;">参数</th> <th style="text-align:center;">类型</th> <th style="text-align:center;">默认</th> <th>说明</th></tr></thead> <tbody><tr><td style="text-align:center;">no_cache?</td> <td style="text-align:center;">boolean</td> <td style="text-align:center;"><code>false</code></td> <td>是否不用缓存中的</td></tr></tbody></table> <p><strong>返回值</strong> <code>Promise</code>&lt;<a href="#ret-object">Ret</a>&lt;string[]&gt;&gt;</p> <h3 id="client-getcookies-domain"><a href="#client-getcookies-domain" class="header-anchor">#</a> Client.getCookies(domain)</h3> <blockquote><p>获取cookie</p></blockquote> <div class="custom-block tip"><p class="custom-block-title">提示</p> <p>使用方法见<a href="/oicq-wiki/web-api.html">web-api</a></p></div> <table><thead><tr><th style="text-align:center;">参数</th> <th style="text-align:center;">类型</th> <th style="text-align:center;">默认</th> <th>说明</th></tr></thead> <tbody><tr><td style="text-align:center;">domain?</td> <td style="text-align:center;"><a href="#domain">Domain</a></td> <td style="text-align:center;">``</td> <td>域名</td></tr></tbody></table> <p><strong>返回值</strong> <code>Promise</code>&lt;<a href="#ret-object">Ret</a>&lt;<code>{ cookies: string }</code>&gt;&gt;</p> <h4 id="domain"><a href="#domain" class="header-anchor">#</a> Domain</h4> <table><thead><tr><th>值</th></tr></thead> <tbody></tbody></table> <p><code>&quot;tenpay.com&quot;</code> <code>&quot;docs.qq.com&quot;</code> <code>&quot;office.qq.com&quot;</code> <code>&quot;connect.qq.com&quot;</code> <code>&quot;vip.qq.com&quot;</code> <code>&quot;mail.qq.com&quot;</code> <code>&quot;qzone.qq.com&quot;</code> <code>&quot;gamecenter.qq.com&quot;</code> <code>&quot;mma.qq.com&quot;</code> <code>&quot;game.qq.com&quot;</code> <code>&quot;qqweb.qq.com&quot;</code> <code>&quot;openmobile.qq.com&quot;</code> <code>&quot;qun.qq.com&quot;</code> <code>&quot;ti.qq.com&quot;</code></p> <h3 id="client-getcsrftoken"><a href="#client-getcsrftoken" class="header-anchor">#</a> Client.getCsrfToken()</h3> <blockquote><p>获取CsrfToken</p></blockquote> <div class="custom-block tip"><p class="custom-block-title">提示</p> <p>使用方法见<a href="/oicq-wiki/web-api.html">web-api</a></p></div> <p><strong>返回值</strong> <code>Promise</code>&lt;<a href="#ret-object">Ret</a>&lt;<code>{ token: number }</code>&gt;&gt;</p> <h3 id="client-cleancache-type"><a href="#client-cleancache-type" class="header-anchor">#</a> Client.cleanCache(type)</h3> <blockquote><p>清除 image 和 record 文件夹下的缓存文件</p></blockquote> <table><thead><tr><th style="text-align:center;">参数</th> <th style="text-align:center;">类型</th> <th style="text-align:center;">默认</th> <th>说明</th></tr></thead> <tbody><tr><td style="text-align:center;">type?</td> <td style="text-align:center;"><code>&quot;image&quot;\|&quot;record&quot;</code></td> <td style="text-align:center;">``</td> <td>类型</td></tr></tbody></table> <p><strong>返回值</strong> <code>Promise</code>&lt;<a href="#ret-object">Ret</a>&gt;</p> <h3 id="client-getstatus"><a href="#client-getstatus" class="header-anchor">#</a> Client.getStatus()</h3> <blockquote><p>获取在线状态和数据统计</p></blockquote> <table><thead><tr><th style="text-align:center;">参数</th> <th style="text-align:center;">类型</th> <th style="text-align:center;">默认</th> <th>说明</th></tr></thead> <tbody><tr><td style="text-align:center;">type?</td> <td style="text-align:center;"><code>&quot;image&quot;\|&quot;record&quot;</code></td> <td style="text-align:center;">``</td> <td>类型</td></tr></tbody></table> <p><strong>返回值</strong> <code>Promise</code>&lt;<a href="#ret-object">Ret</a>&lt;<a href="#status">Status</a>&gt;&gt;</p> <h4 id="status"><a href="#status" class="header-anchor">#</a> Status</h4> <table><thead><tr><th style="text-align:center;">属性</th> <th style="text-align:center;">类型</th> <th style="text-align:center;">默认</th> <th>说明</th></tr></thead> <tbody><tr><td style="text-align:center;">online</td> <td style="text-align:center;">boolean</td> <td style="text-align:center;"></td> <td>是否在线</td></tr> <tr><td style="text-align:center;">status</td> <td style="text-align:center;">number</td> <td style="text-align:center;"></td> <td>在线状态</td></tr> <tr><td style="text-align:center;">remote_ip?</td> <td style="text-align:center;">number</td> <td style="text-align:center;">``</td> <td>服务器远程ip</td></tr> <tr><td style="text-align:center;">remote_port?</td> <td style="text-align:center;">number</td> <td style="text-align:center;">``</td> <td>服务器远程端口</td></tr> <tr><td style="text-align:center;">msg_cnt_per_min</td> <td style="text-align:center;">number</td> <td style="text-align:center;"></td> <td>每分钟消息数</td></tr> <tr><td style="text-align:center;">statistics</td> <td style="text-align:center;"><a href="/oicq-wiki/api/成员属性.html#statistics">Statistics</a></td> <td style="text-align:center;"></td> <td>数据统计信息</td></tr> <tr><td style="text-align:center;">config</td> <td style="text-align:center;"><a href="/oicq-wiki/api/#confbot">ConfBot</a></td> <td style="text-align:center;"></td> <td>实例配置</td></tr></tbody></table> <h3 id="client-reloadfriendlist"><a href="#client-reloadfriendlist" class="header-anchor">#</a> Client.reloadFriendList()</h3> <blockquote><p>重载好友列表
完成之前无法调用任何api，也不会上报任何事件</p></blockquote> <p><strong>返回值</strong> <code>Promise</code>&lt;<a href="#ret-object">Ret</a>&gt;</p> <h3 id="client-reloadgrouplist"><a href="#client-reloadgrouplist" class="header-anchor">#</a> Client.reloadGroupList()</h3> <blockquote><p>重载群列表
完成之前无法调用任何api，也不会上报任何事件</p></blockquote> <p><strong>返回值</strong> <code>Promise</code>&lt;<a href="#ret-object">Ret</a>&gt;</p> <h3 id="client-senduni-cmd-body"><a href="#client-senduni-cmd-body" class="header-anchor">#</a> Client.sendUni(cmd, body)<span class="badge tip" style="vertical-align:top;" data-v-15b7b770>内部</span></h3> <blockquote><p>隐藏方法，可用于扩展协议<br>
发送一个未加密的uni包</p></blockquote> <table><thead><tr><th style="text-align:center;">参数</th> <th style="text-align:center;">类型</th> <th style="text-align:center;">默认</th> <th>说明</th></tr></thead> <tbody><tr><td style="text-align:center;">cmd</td> <td style="text-align:center;">string</td> <td style="text-align:center;"></td> <td></td></tr> <tr><td style="text-align:center;">body</td> <td style="text-align:center;">Uint8Array</td> <td style="text-align:center;"></td> <td></td></tr></tbody></table> <p><strong>返回值</strong> <code>Promise</code>&lt;<a href="#ret-object">Ret</a>&lt;<code>Buffer</code>&gt;&gt;</p> <h3 id="client-sendoidb-cmd-body"><a href="#client-sendoidb-cmd-body" class="header-anchor">#</a> Client.sendOidb(cmd, body)<span class="badge tip" style="vertical-align:top;" data-v-15b7b770>内部</span></h3> <blockquote><p>隐藏方法，可用于扩展协议<br>
发送一个未加密的oidb包</p></blockquote> <table><thead><tr><th style="text-align:center;">参数</th> <th style="text-align:center;">类型</th> <th style="text-align:center;">默认需</th> <th>说明</th></tr></thead> <tbody><tr><td style="text-align:center;">cmd</td> <td style="text-align:center;">string</td> <td style="text-align:center;"></td> <td></td></tr> <tr><td style="text-align:center;">body</td> <td style="text-align:center;">Uint8Array</td> <td style="text-align:center;"></td> <td></td></tr></tbody></table> <p><strong>返回值</strong> <code>Promise</code>&lt;<a href="#ret-object">Ret</a>&lt;<code>Buffer</code>&gt;&gt;</p> <h3 id="client-em-name-string-data-any"><a href="#client-em-name-string-data-any" class="header-anchor">#</a> Client.em(name: string, data?: any)<span class="badge tip" style="vertical-align:top;" data-v-15b7b770>内部</span></h3> <blockquote><p>隐藏方法，可用于扩展协议<br>
触发一个oicq标准事件</p></blockquote> <table><thead><tr><th style="text-align:center;">参数</th> <th style="text-align:center;">类型</th> <th style="text-align:center;">默认</th> <th>说明</th></tr></thead> <tbody><tr><td style="text-align:center;">name</td> <td style="text-align:center;">string</td> <td style="text-align:center;"></td> <td>事件名</td></tr> <tr><td style="text-align:center;">data?</td> <td style="text-align:center;">any</td> <td style="text-align:center;"></td> <td>参数</td></tr></tbody></table> <h3 id="client-getgroupnotice-group-id"><a href="#client-getgroupnotice-group-id" class="header-anchor">#</a> Client.getGroupNotice(group_id) <span class="badge warn" style="vertical-align:top;" data-v-15b7b770>弃用</span></h3> <blockquote><p>获取群公告</p></blockquote> <div class="custom-block warning"><p class="custom-block-title">注意</p> <p>该方法已废弃，参考<a href="/oicq-wiki/web-api.html">web-api</a>自行获取</p></div> <table><thead><tr><th style="text-align:center;">参数</th> <th style="text-align:center;">类型</th> <th style="text-align:center;">默认</th> <th>说明</th></tr></thead> <tbody><tr><td style="text-align:center;">group_id</td> <td style="text-align:center;">number</td> <td style="text-align:center;"></td> <td>群号</td></tr></tbody></table> <p><strong>返回值</strong>：
<code>Promise</code>&lt;<a href="#ret-object">Ret</a>&lt;any[]&gt;&gt;</p> <h3 id="client-getlevelinfo-user-id"><a href="#client-getlevelinfo-user-id" class="header-anchor">#</a> Client.getLevelInfo(user_id) <span class="badge warn" style="vertical-align:top;" data-v-15b7b770>弃用</span></h3> <blockquote><p>获取等级信息</p></blockquote> <div class="custom-block warning"><p class="custom-block-title">注意</p> <p>该方法已废弃，参考<a href="/oicq-wiki/web-api.html">web-api</a>自行获取</p></div> <table><thead><tr><th style="text-align:center;">参数</th> <th style="text-align:center;">类型</th> <th style="text-align:center;">默认</th> <th>说明</th></tr></thead> <tbody><tr><td style="text-align:center;">user_id?</td> <td style="text-align:center;">number</td> <td style="text-align:center;">``</td> <td>qq</td></tr></tbody></table> <p><strong>返回值</strong> <code>Promise</code>&lt;<a href="#ret-object">Ret</a>&lt;any&gt;&gt;</p> <h3 id="client-cansendimage"><a href="#client-cansendimage" class="header-anchor">#</a> Client.canSendImage() <span class="badge warn" style="vertical-align:top;" data-v-15b7b770>弃用</span></h3> <blockquote><p>是否能发图(没用)</p></blockquote> <div class="custom-block warning"><p class="custom-block-title">注意</p> <p>该方法已废弃，参考<a href="/oicq-wiki/web-api.html">web-api</a>自行获取</p></div> <p><strong>返回值</strong> <code>Promise</code>&lt;<a href="#ret-object">Ret</a>&gt;</p> <h3 id="client-cansendrecord"><a href="#client-cansendrecord" class="header-anchor">#</a> Client.canSendRecord() <span class="badge warn" style="vertical-align:top;" data-v-15b7b770>弃用</span></h3> <blockquote><p>是否能发语音(没用)</p></blockquote> <div class="custom-block warning"><p class="custom-block-title">注意</p> <p>该方法已废弃，参考<a href="/oicq-wiki/web-api.html">web-api</a>自行获取</p></div> <p><strong>返回值</strong> <code>Promise</code>&lt;<a href="#ret-object">Ret</a>&gt;</p> <h3 id="client-getversioninfo"><a href="#client-getversioninfo" class="header-anchor">#</a> Client.getVersionInfo() <span class="badge warn" style="vertical-align:top;" data-v-15b7b770>弃用</span></h3> <blockquote><p>获取版本信息(没用)</p></blockquote> <div class="custom-block warning"><p class="custom-block-title">注意</p> <p>该方法已废弃，参考<a href="/oicq-wiki/web-api.html">web-api</a>自行获取</p></div> <p><strong>返回值</strong> <code>Promise</code>&lt;<a href="#ret-object">Ret</a>&gt;</p> <h2 id="其他参数"><a href="#其他参数" class="header-anchor">#</a> 其他参数</h2> <h3 id="ret-object"><a href="#ret-object" class="header-anchor">#</a> Ret&lt;object&gt;</h3> <blockquote><p>应用类方法返回参数</p></blockquote> <table><thead><tr><th style="text-align:center;">属性</th> <th style="text-align:center;">说明</th> <th style="text-align:center;">成功</th> <th style="text-align:center;">异步</th> <th>失败</th></tr></thead> <tbody><tr><td style="text-align:center;">retcode</td> <td style="text-align:center;">状态码</td> <td style="text-align:center;"><code>0</code></td> <td style="text-align:center;"><code>1</code></td> <td><a href="#retcode">retcode</a></td></tr> <tr><td style="text-align:center;">status</td> <td style="text-align:center;">状态</td> <td style="text-align:center;"><code>&quot;ok&quot;</code></td> <td style="text-align:center;"><code>&quot;async&quot;</code></td> <td><code>&quot;failed&quot;</code></td></tr> <tr><td style="text-align:center;">data</td> <td style="text-align:center;">&lt;object&gt;(返回的数据)</td> <td style="text-align:center;"><code>Object</code></td> <td style="text-align:center;">null</td> <td>null</td></tr> <tr><td style="text-align:center;">error</td> <td style="text-align:center;">错误</td> <td style="text-align:center;">null</td> <td style="text-align:center;">null</td> <td><a href="#reterror">RetError</a></td></tr></tbody></table> <h4 id="retcode"><a href="#retcode" class="header-anchor">#</a> retcode</h4> <table><thead><tr><th style="text-align:center;">值</th> <th>说明</th></tr></thead> <tbody><tr><td style="text-align:center;">0</td> <td>成功</td></tr> <tr><td style="text-align:center;">1</td> <td>异步</td></tr> <tr><td style="text-align:center;">100</td> <td>参数错误</td></tr> <tr><td style="text-align:center;">102</td> <td>失败</td></tr> <tr><td style="text-align:center;">103</td> <td>超时</td></tr> <tr><td style="text-align:center;">104</td> <td>客户端未上线</td></tr></tbody></table> <h4 id="reterror"><a href="#reterror" class="header-anchor">#</a> RetError</h4> <blockquote><p>错误信息对象</p></blockquote> <table><thead><tr><th style="text-align:center;">属性</th> <th style="text-align:center;">类型</th> <th>说明</th></tr></thead> <tbody><tr><td style="text-align:center;">code</td> <td style="text-align:center;">number</td> <td>错误码</td></tr> <tr><td style="text-align:center;">message</td> <td style="text-align:center;">string</td> <td>错误信息</td></tr></tbody></table> <h3 id="messageelem"><a href="#messageelem" class="header-anchor">#</a> MessageElem</h3> <blockquote><p>群权限</p></blockquote> <table><thead><tr><th style="text-align:center;">值</th> <th>说明</th></tr></thead> <tbody><tr><td style="text-align:center;"><a href="#textelem">TextElem</a></td> <td>一般文本消息</td></tr> <tr><td style="text-align:center;"><a href="#atelem">AtElem</a></td> <td>艾特某人</td></tr> <tr><td style="text-align:center;"><a href="#faceelem">FaceElem</a></td> <td>经典表情</td></tr> <tr><td style="text-align:center;"><a href="#bfaceelem">BfaceElem</a></td> <td>原创表情</td></tr> <tr><td style="text-align:center;"><a href="#mfaceelem">MfaceElem</a></td> <td>魔法表情</td></tr> <tr><td style="text-align:center;"><a href="#imgpttelem">ImgPttElem</a></td> <td>图片，闪照，语音</td></tr> <tr><td style="text-align:center;"><a href="#locationelem">LocationElem</a></td> <td>地点分享</td></tr> <tr><td style="text-align:center;"><a href="#musicelem">MusicElem</a></td> <td>音乐分享</td></tr> <tr><td style="text-align:center;"><a href="#shareelem">ShareElem</a></td> <td>链接分享</td></tr> <tr><td style="text-align:center;"><a href="#jsonelem">JsonElem</a></td> <td>json消息</td></tr> <tr><td style="text-align:center;"><a href="#xmlelem">XmlElem</a></td> <td>xml卡牌消息</td></tr> <tr><td style="text-align:center;"><a href="#anonymouselem">AnonymousElem</a></td> <td>匿名消息</td></tr> <tr><td style="text-align:center;"><a href="#replyelem">ReplyElem</a></td> <td>回复</td></tr> <tr><td style="text-align:center;"><a href="#nodeelem">NodeElem</a></td> <td>合并转发</td></tr> <tr><td style="text-align:center;"><a href="#shakeelem">ShakeElem</a></td> <td>窗口抖动</td></tr> <tr><td style="text-align:center;"><a href="#pokeelem">PokeElem</a></td> <td>戳一戳</td></tr> <tr><td style="text-align:center;"><a href="#fileelem">FileElem</a></td> <td>文件(仅接收)</td></tr> <tr><td style="text-align:center;"><a href="#videoelem">VideoElem</a></td> <td>视频</td></tr> <tr><td style="text-align:center;"><a href="#miraielem">MiraiElem</a></td> <td>该元素仅mirai系的客户端可解析，官方客户端无法识别</td></tr></tbody></table> <div class="custom-block tip"><p class="custom-block-title">说明</p> <p>所有的消息类型都是对象
内有type&lt;string&gt;属性和data&lt;object&gt;属性</p></div> <h4 id="textelem"><a href="#textelem" class="header-anchor">#</a> TextElem</h4> <blockquote><p>文本消息</p></blockquote> <ul><li><p>type</p> <table><thead><tr><th style="text-align:center;">值</th> <th>说明</th></tr></thead> <tbody><tr><td style="text-align:center;"><code>text</code></td> <td>文本</td></tr></tbody></table></li> <li><p>data</p> <table><thead><tr><th style="text-align:center;">属性</th> <th style="text-align:center;">类型</th> <th style="text-align:center;">默认</th> <th>说明</th></tr></thead> <tbody><tr><td style="text-align:center;">text</td> <td style="text-align:center;">string</td> <td style="text-align:center;"></td> <td>消息文本</td></tr></tbody></table></li></ul> <h4 id="atelem"><a href="#atelem" class="header-anchor">#</a> AtElem</h4> <blockquote><p>艾特某人</p></blockquote> <ul><li><p>type</p> <table><thead><tr><th style="text-align:center;">值</th> <th>说明</th></tr></thead> <tbody><tr><td style="text-align:center;"><code>&quot;at&quot;</code></td> <td>艾特某人</td></tr></tbody></table></li> <li><p>data</p> <table><thead><tr><th style="text-align:center;">属性</th> <th style="text-align:center;">类型</th> <th style="text-align:center;">默认</th> <th>说明</th></tr></thead> <tbody><tr><td style="text-align:center;">qq</td> <td style="text-align:center;">number|<code>&quot;all&quot;</code></td> <td style="text-align:center;"></td> <td>艾特的对象,all为全体</td></tr> <tr><td style="text-align:center;">text?</td> <td style="text-align:center;">string</td> <td style="text-align:center;"><code>'@'</code>+qq|q名</td> <td>at失败时显示的文本</td></tr> <tr><td style="text-align:center;">dummy?</td> <td style="text-align:center;">boolean</td> <td style="text-align:center;"><code>false</code></td> <td>假at，只显示艾特文本</td></tr></tbody></table></li></ul> <h4 id="faceelem"><a href="#faceelem" class="header-anchor">#</a> FaceElem</h4> <blockquote><p>经典表情</p></blockquote> <ul><li><p>type</p> <table><thead><tr><th style="text-align:center;">值</th> <th>说明</th></tr></thead> <tbody><tr><td style="text-align:center;"><code>&quot;face&quot;</code></td> <td></td></tr> <tr><td style="text-align:center;"><code>&quot;sface&quot;</code></td> <td></td></tr></tbody></table></li> <li><p>data</p> <table><thead><tr><th style="text-align:center;">属性</th> <th style="text-align:center;">类型</th> <th style="text-align:center;">默认</th> <th>说明</th></tr></thead> <tbody><tr><td style="text-align:center;">id</td> <td style="text-align:center;">number</td> <td style="text-align:center;"></td> <td>表情id</td></tr> <tr><td style="text-align:center;">text?</td> <td style="text-align:center;">string</td> <td style="text-align:center;"></td> <td></td></tr></tbody></table></li></ul> <h4 id="bfaceelem"><a href="#bfaceelem" class="header-anchor">#</a> BfaceElem</h4> <blockquote><p>原创表情</p></blockquote> <ul><li><p>type</p> <table><thead><tr><th style="text-align:center;">值</th> <th>说明</th></tr></thead> <tbody><tr><td style="text-align:center;"><code>&quot;bface&quot;</code></td> <td>原创表情</td></tr></tbody></table></li> <li><p>data</p> <table><thead><tr><th style="text-align:center;">属性</th> <th style="text-align:center;">类型</th> <th style="text-align:center;">默认</th> <th>说明</th></tr></thead> <tbody><tr><td style="text-align:center;">file</td> <td style="text-align:center;">string</td> <td style="text-align:center;"></td> <td>文件路径</td></tr> <tr><td style="text-align:center;">text</td> <td style="text-align:center;">string</td> <td style="text-align:center;"></td> <td></td></tr></tbody></table></li></ul> <h4 id="mfaceelem"><a href="#mfaceelem" class="header-anchor">#</a> MfaceElem</h4> <blockquote><p>魔法表情</p></blockquote> <ul><li><p>type</p> <table><thead><tr><th style="text-align:center;">值</th> <th>说明</th></tr></thead> <tbody><tr><td style="text-align:center;"><code>&quot;rps&quot;</code></td> <td>猜拳</td></tr> <tr><td style="text-align:center;"><code>&quot;dice&quot;</code></td> <td>骰子</td></tr></tbody></table></li> <li><p>data</p> <table><thead><tr><th style="text-align:center;">属性</th> <th style="text-align:center;">类型</th> <th style="text-align:center;">默认</th> <th>说明</th></tr></thead> <tbody><tr><td style="text-align:center;">id</td> <td style="text-align:center;">number</td> <td style="text-align:center;"></td> <td></td></tr></tbody></table></li></ul> <h4 id="imgpttelem"><a href="#imgpttelem" class="header-anchor">#</a> ImgPttElem</h4> <blockquote><p>图片，闪照，语音</p></blockquote> <ul><li><p>type</p> <table><thead><tr><th style="text-align:center;">值</th> <th>说明</th></tr></thead> <tbody><tr><td style="text-align:center;"><code>&quot;image&quot;</code></td> <td>图片</td></tr> <tr><td style="text-align:center;"><code>&quot;flash&quot;</code></td> <td>闪照</td></tr> <tr><td style="text-align:center;"><code>&quot;record&quot;</code></td> <td>语音</td></tr></tbody></table></li> <li><p>data</p> <table><thead><tr><th style="text-align:center;">属性</th> <th style="text-align:center;">类型</th> <th style="text-align:center;">默认</th> <th>说明</th></tr></thead> <tbody><tr><td style="text-align:center;">file</td> <td style="text-align:center;"><a href="#mediafile">MediaFile</a></td> <td style="text-align:center;"></td> <td>文件</td></tr> <tr><td style="text-align:center;">cache?</td> <td style="text-align:center;">boolean</td> <td style="text-align:center;"><code>true</code></td> <td>file为网络资源时是否使用缓存</td></tr> <tr><td style="text-align:center;">timeout?</td> <td style="text-align:center;">number</td> <td style="text-align:center;">``</td> <td>file为网络资源时请求超时时间</td></tr> <tr><td style="text-align:center;">headers?</td> <td style="text-align:center;">OutgoingHttpHeaders</td> <td style="text-align:center;">``</td> <td>file为网络资源时请求头</td></tr> <tr><td style="text-align:center;">url?</td> <td style="text-align:center;">string</td> <td style="text-align:center;">``</td> <td>资源地址，仅接收时有</td></tr></tbody></table></li></ul> <h5 id="mediafile"><a href="#mediafile" class="header-anchor">#</a> MediaFile</h5> <table><thead><tr><th style="text-align:center;">类型</th> <th>说明</th></tr></thead> <tbody><tr><td style="text-align:center;">string</td> <td>等同于[CQ:image]中的file参数,string支持以下写法：</td></tr> <tr><td style="text-align:center;"></td> <td><code>'http(s)://'</code></td></tr> <tr><td style="text-align:center;"></td> <td><code>'base64://'</code></td></tr> <tr><td style="text-align:center;"></td> <td><code>'/tmp/example.jpg'</code>  本地绝对路径</td></tr> <tr><td style="text-align:center;"></td> <td><code>'example.jpg'</code>  本地相对(于启动目录的)路径</td></tr> <tr><td style="text-align:center;"></td> <td><code>'file:///'</code></td></tr> <tr><td style="text-align:center;"></td> <td><code>'protobuf://'</code>  仅用于语音和视频的转发</td></tr> <tr><td style="text-align:center;">Uint8Array</td> <td></td></tr> <tr><td style="text-align:center;">ArrayBuffer</td> <td></td></tr> <tr><td style="text-align:center;">SharedArrayBuffer</td> <td></td></tr></tbody></table> <h4 id="locationelem"><a href="#locationelem" class="header-anchor">#</a> LocationElem</h4> <blockquote><p>地点分享</p></blockquote> <ul><li><p>type</p> <table><thead><tr><th style="text-align:center;">值</th> <th>说明</th></tr></thead> <tbody><tr><td style="text-align:center;"><code>&quot;location&quot;</code></td> <td>地点分享</td></tr></tbody></table></li> <li><p>data</p> <table><thead><tr><th style="text-align:center;">属性</th> <th style="text-align:center;">类型</th> <th style="text-align:center;">默认</th> <th>说明</th></tr></thead> <tbody><tr><td style="text-align:center;">address</td> <td style="text-align:center;">string</td> <td style="text-align:center;"></td> <td>地点名</td></tr> <tr><td style="text-align:center;">lat</td> <td style="text-align:center;">number</td> <td style="text-align:center;"></td> <td>纬度</td></tr> <tr><td style="text-align:center;">lng</td> <td style="text-align:center;">number</td> <td style="text-align:center;"></td> <td>经度</td></tr> <tr><td style="text-align:center;">name?</td> <td style="text-align:center;">string</td> <td style="text-align:center;"></td> <td></td></tr> <tr><td style="text-align:center;">id?</td> <td style="text-align:center;">string</td> <td style="text-align:center;"></td> <td></td></tr></tbody></table></li></ul> <h4 id="musicelem"><a href="#musicelem" class="header-anchor">#</a> MusicElem</h4> <blockquote><p>音乐分享</p></blockquote> <ul><li><p>type</p> <table><thead><tr><th style="text-align:center;">值</th> <th>说明</th></tr></thead> <tbody><tr><td style="text-align:center;"><code>&quot;music&quot;</code></td> <td>音乐分享</td></tr></tbody></table></li> <li><p>data</p> <table><thead><tr><th style="text-align:center;">属性</th> <th style="text-align:center;">类型</th> <th style="text-align:center;">默认</th> <th>说明</th></tr></thead> <tbody><tr><td style="text-align:center;">type</td> <td style="text-align:center;"><a href="#musictype">MusicType</a></td> <td style="text-align:center;"></td> <td>平台名</td></tr> <tr><td style="text-align:center;">id</td> <td style="text-align:center;">string</td> <td style="text-align:center;"></td> <td>音乐id</td></tr></tbody></table></li></ul> <h5 id="musictype"><a href="#musictype" class="header-anchor">#</a> MusicType</h5> <table><thead><tr><th style="text-align:center;">值</th> <th>说明</th></tr></thead> <tbody><tr><td style="text-align:center;"><code>&quot;qq&quot;</code></td> <td>QQ影音</td></tr> <tr><td style="text-align:center;"><code>&quot;163&quot;</code></td> <td>网抑云音乐</td></tr> <tr><td style="text-align:center;"><code>&quot;migu&quot;</code></td> <td>咪咕音乐</td></tr> <tr><td style="text-align:center;"><code>&quot;kugou&quot;</code></td> <td>酷狗音乐</td></tr> <tr><td style="text-align:center;"><code>&quot;kuwo&quot;</code></td> <td>酷我音乐</td></tr></tbody></table> <h4 id="shareelem"><a href="#shareelem" class="header-anchor">#</a> ShareElem</h4> <blockquote><p>链接分享</p></blockquote> <ul><li><p>type</p> <table><thead><tr><th style="text-align:center;">值</th> <th>说明</th></tr></thead> <tbody><tr><td style="text-align:center;"><code>&quot;share&quot;</code></td> <td>链接分享</td></tr></tbody></table></li> <li><p>data</p> <table><thead><tr><th style="text-align:center;">属性</th> <th style="text-align:center;">类型</th> <th style="text-align:center;">默认</th> <th>说明</th></tr></thead> <tbody><tr><td style="text-align:center;">url</td> <td style="text-align:center;">string</td> <td style="text-align:center;"></td> <td>链接</td></tr> <tr><td style="text-align:center;">title</td> <td style="text-align:center;">string</td> <td style="text-align:center;"></td> <td>标题</td></tr> <tr><td style="text-align:center;">content?</td> <td style="text-align:center;">string</td> <td style="text-align:center;">``</td> <td>内容</td></tr> <tr><td style="text-align:center;">image?</td> <td style="text-align:center;">string</td> <td style="text-align:center;">``</td> <td>预览图</td></tr></tbody></table></li></ul> <h4 id="jsonelem"><a href="#jsonelem" class="header-anchor">#</a> JsonElem</h4> <blockquote><p>JSON消息</p></blockquote> <ul><li><p>json消息</p> <table><thead><tr><th style="text-align:center;">值</th> <th>说明</th></tr></thead> <tbody><tr><td style="text-align:center;"><code>&quot;json&quot;</code></td> <td>json消息</td></tr></tbody></table></li> <li><p>data</p> <table><thead><tr><th style="text-align:center;">属性</th> <th style="text-align:center;">类型</th> <th style="text-align:center;">默认</th> <th>说明</th></tr></thead> <tbody><tr><td style="text-align:center;">data</td> <td style="text-align:center;">any</td> <td style="text-align:center;"></td> <td>一个 json 字符串或一个 json 对象</td></tr> <tr><td style="text-align:center;">text?</td> <td style="text-align:center;">string</td> <td style="text-align:center;">``</td> <td></td></tr></tbody></table></li></ul> <h4 id="xmlelem"><a href="#xmlelem" class="header-anchor">#</a> XmlElem</h4> <blockquote><p>xml卡牌消息</p></blockquote> <ul><li><p>type</p> <table><thead><tr><th style="text-align:center;">值</th> <th>说明</th></tr></thead> <tbody><tr><td style="text-align:center;"><code>&quot;xml&quot;</code></td> <td>xml卡牌消息</td></tr></tbody></table></li> <li><p>data</p> <table><thead><tr><th style="text-align:center;">属性</th> <th style="text-align:center;">类型</th> <th style="text-align:center;">默认</th> <th>说明</th></tr></thead> <tbody><tr><td style="text-align:center;">data</td> <td style="text-align:center;">string</td> <td style="text-align:center;"></td> <td></td></tr> <tr><td style="text-align:center;">type?</td> <td style="text-align:center;">number</td> <td style="text-align:center;">``</td> <td>type为35的是合并转发</td></tr> <tr><td style="text-align:center;">text?</td> <td style="text-align:center;">string</td> <td style="text-align:center;"><code>&quot;&quot;</code></td> <td></td></tr></tbody></table></li></ul> <h4 id="anonymouselem"><a href="#anonymouselem" class="header-anchor">#</a> AnonymousElem</h4> <blockquote><p>匿名消息</p></blockquote> <ul><li><p>type</p> <table><thead><tr><th style="text-align:center;">值</th> <th>说明</th></tr></thead> <tbody><tr><td style="text-align:center;"><code>&quot;anonymous&quot;</code></td> <td>匿名消息</td></tr></tbody></table></li> <li><p>data</p> <table><thead><tr><th style="text-align:center;">属性</th> <th style="text-align:center;">类型</th> <th style="text-align:center;">默认</th> <th>说明</th></tr></thead> <tbody><tr><td style="text-align:center;">ignore?</td> <td style="text-align:center;">boolean</td> <td style="text-align:center;"><code>true</code></td> <td>匿名失败时是否继续发送</td></tr></tbody></table></li></ul> <h4 id="replyelem"><a href="#replyelem" class="header-anchor">#</a> ReplyElem</h4> <blockquote><p>引用回复</p></blockquote> <ul><li><p>type</p> <table><thead><tr><th style="text-align:center;">值</th> <th>说明</th></tr></thead> <tbody><tr><td style="text-align:center;"><code>&quot;reply&quot;</code></td> <td>回复</td></tr></tbody></table></li> <li><p>data</p> <table><thead><tr><th style="text-align:center;">属性</th> <th style="text-align:center;">类型</th> <th style="text-align:center;">默认</th> <th>说明</th></tr></thead> <tbody><tr><td style="text-align:center;">id</td> <td style="text-align:center;">string</td> <td style="text-align:center;"></td> <td>message_id</td></tr></tbody></table></li></ul> <h4 id="nodeelem"><a href="#nodeelem" class="header-anchor">#</a> NodeElem</h4> <blockquote><p>node</p></blockquote> <ul><li><p>type</p> <table><thead><tr><th style="text-align:center;">值</th> <th>说明</th></tr></thead> <tbody><tr><td style="text-align:center;"><code>&quot;node&quot;</code></td> <td></td></tr></tbody></table></li> <li><p>data</p> <table><thead><tr><th style="text-align:center;">属性</th> <th style="text-align:center;">类型</th> <th style="text-align:center;">默认</th> <th>说明</th></tr></thead> <tbody><tr><td style="text-align:center;">id</td> <td style="text-align:center;">string</td> <td style="text-align:center;"></td> <td></td></tr></tbody></table></li></ul> <h4 id="shakeelem"><a href="#shakeelem" class="header-anchor">#</a> ShakeElem</h4> <blockquote><p>窗口抖动</p></blockquote> <ul><li><p>type</p> <table><thead><tr><th style="text-align:center;">值</th> <th>说明</th></tr></thead> <tbody><tr><td style="text-align:center;"><code>&quot;shake&quot;</code></td> <td>窗口抖动</td></tr></tbody></table></li></ul> <h4 id="pokeelem"><a href="#pokeelem" class="header-anchor">#</a> PokeElem</h4> <blockquote><p>戳一戳</p></blockquote> <ul><li><p>type</p> <table><thead><tr><th style="text-align:center;">值</th> <th>说明</th></tr></thead> <tbody><tr><td style="text-align:center;"><code>&quot;poke&quot;</code></td> <td>戳一戳</td></tr></tbody></table></li> <li><p>data</p> <table><thead><tr><th style="text-align:center;">属性</th> <th style="text-align:center;">类型</th> <th style="text-align:center;">默认</th> <th>说明</th></tr></thead> <tbody><tr><td style="text-align:center;">type</td> <td style="text-align:center;">number</td> <td style="text-align:center;"></td> <td>0~6，分别对应哪种戳的类型</td></tr> <tr><td style="text-align:center;">id?</td> <td style="text-align:center;">number</td> <td style="text-align:center;">``</td> <td></td></tr></tbody></table></li></ul> <h4 id="fileelem"><a href="#fileelem" class="header-anchor">#</a> FileElem</h4> <blockquote><p>文件(仅接受)</p></blockquote> <ul><li><p>type</p> <table><thead><tr><th style="text-align:center;">值</th> <th>说明</th></tr></thead> <tbody><tr><td style="text-align:center;"><code>&quot;file&quot;</code></td> <td>文件(仅接受)</td></tr></tbody></table></li> <li><p>data</p> <table><thead><tr><th style="text-align:center;">属性</th> <th style="text-align:center;">类型</th> <th style="text-align:center;">默认</th> <th>说明</th></tr></thead> <tbody><tr><td style="text-align:center;">name</td> <td style="text-align:center;">string</td> <td style="text-align:center;"></td> <td>文件名</td></tr> <tr><td style="text-align:center;">url</td> <td style="text-align:center;">string</td> <td style="text-align:center;"></td> <td>资源链接</td></tr> <tr><td style="text-align:center;">size</td> <td style="text-align:center;">number</td> <td style="text-align:center;"></td> <td>大小，单位[]</td></tr> <tr><td style="text-align:center;">md5</td> <td style="text-align:center;">string</td> <td style="text-align:center;"></td> <td>md5</td></tr> <tr><td style="text-align:center;">duration</td> <td style="text-align:center;">number</td> <td style="text-align:center;"></td> <td></td></tr> <tr><td style="text-align:center;">busid<span class="badge warn" style="vertical-align:top;" data-v-15b7b770>弃用</span></td> <td style="text-align:center;">number</td> <td style="text-align:center;"></td> <td></td></tr> <tr><td style="text-align:center;">fileid<span class="badge warn" style="vertical-align:top;" data-v-15b7b770>弃用</span></td> <td style="text-align:center;">string</td> <td style="text-align:center;"></td> <td></td></tr> <tr><td style="text-align:center;">fid</td> <td style="text-align:center;">string</td> <td style="text-align:center;"></td> <td></td></tr></tbody></table></li></ul> <h4 id="videoelem"><a href="#videoelem" class="header-anchor">#</a> VideoElem</h4> <blockquote><p>视频</p></blockquote> <ul><li><p>type</p> <table><thead><tr><th style="text-align:center;">值</th> <th>说明</th></tr></thead> <tbody><tr><td style="text-align:center;"><code>&quot;video&quot;</code></td> <td>视频</td></tr></tbody></table></li> <li><p>data</p> <table><thead><tr><th style="text-align:center;">属性</th> <th style="text-align:center;">类型</th> <th style="text-align:center;">默认</th> <th>说明</th></tr></thead> <tbody><tr><td style="text-align:center;">file</td> <td style="text-align:center;">string</td> <td style="text-align:center;"></td> <td>发送仅支持本地文件路径或转发</td></tr> <tr><td style="text-align:center;">url?</td> <td style="text-align:center;">string</td> <td style="text-align:center;"></td> <td>仅接收</td></tr></tbody></table></li></ul> <h4 id="miraielem"><a href="#miraielem" class="header-anchor">#</a> MiraiElem</h4> <blockquote><p>该元素仅mirai系的客户端可解析，官方客户端无法识别</p></blockquote> <ul><li><p>type</p> <table><thead><tr><th style="text-align:center;">值</th> <th>说明</th></tr></thead> <tbody><tr><td style="text-align:center;"><code>&quot;mirai&quot;</code></td> <td>mirai消息</td></tr></tbody></table></li> <li><p>data</p> <table><thead><tr><th style="text-align:center;">属性</th> <th style="text-align:center;">类型</th> <th style="text-align:center;">默认</th> <th>说明</th></tr></thead> <tbody><tr><td style="text-align:center;">data</td> <td style="text-align:center;">string</td> <td style="text-align:center;"></td> <td></td></tr></tbody></table></li></ul> <h3 id="commonrequesteventdata"><a href="#commonrequesteventdata" class="header-anchor">#</a> CommonRequestEventData</h3> <blockquote><p>公共请求事件数据<br>
继承于<a href="#commoneventdata">公共事件数据</a></p></blockquote> <table><thead><tr><th style="text-align:center;">属性</th> <th style="text-align:center;">类型</th> <th style="text-align:center;">值</th> <th>说明</th></tr></thead> <tbody><tr><td style="text-align:center;">post_type</td> <td style="text-align:center;">string</td> <td style="text-align:center;"><code>&quot;request&quot;</code></td> <td></td></tr> <tr><td style="text-align:center;">user_id</td> <td style="text-align:center;">number</td> <td style="text-align:center;"></td> <td>qq</td></tr> <tr><td style="text-align:center;">nickname</td> <td style="text-align:center;">string</td> <td style="text-align:center;"></td> <td>昵称</td></tr> <tr><td style="text-align:center;">flag</td> <td style="text-align:center;">string</td> <td style="text-align:center;"></td> <td>同意或拒绝时传入</td></tr></tbody></table> <h3 id="commoneventdata"><a href="#commoneventdata" class="header-anchor">#</a> CommonEventData</h3> <blockquote><p>公共事件数据</p></blockquote> <table><thead><tr><th style="text-align:center;">属性</th> <th style="text-align:center;">类型</th> <th style="text-align:center;">值</th> <th>说明</th></tr></thead> <tbody><tr><td style="text-align:center;">self_id</td> <td style="text-align:center;">number</td> <td style="text-align:center;"></td> <td>qq</td></tr> <tr><td style="text-align:center;">time</td> <td style="text-align:center;">number</td> <td style="text-align:center;"></td> <td>10位时间戳</td></tr> <tr><td style="text-align:center;">post_type</td> <td style="text-align:center;">string</td> <td style="text-align:center;"><code>&quot;system&quot;</code> | <code>&quot;request&quot;</code> | <code>&quot;message&quot;</code> | <code>&quot;notice&quot;</code> | <code>&quot;sync&quot;</code>| string</td> <td>事件类型</td></tr> <tr><td style="text-align:center;">sub_type?</td> <td style="text-align:center;">string</td> <td style="text-align:center;"></td> <td></td></tr></tbody></table> <h3 id="commonmessageeventdata"><a href="#commonmessageeventdata" class="header-anchor">#</a> CommonMessageEventData</h3> <blockquote><p>公共消息数据<br>
继承于 <a href="#commoneventdata">公共事件数据</a></p></blockquote> <table><thead><tr><th style="text-align:center;">属性</th> <th style="text-align:center;">类型</th> <th style="text-align:center;">值</th> <th>说明</th></tr></thead> <tbody><tr><td style="text-align:center;">post_type</td> <td style="text-align:center;">string</td> <td style="text-align:center;"><code>&quot;message&quot;</code></td> <td></td></tr> <tr><td style="text-align:center;">message</td> <td style="text-align:center;">MessageElem[]</td> <td style="text-align:center;"></td> <td>消息链</td></tr> <tr><td style="text-align:center;">raw_message</td> <td style="text-align:center;">string</td> <td style="text-align:center;"></td> <td>字符串格式的消息</td></tr> <tr><td style="text-align:center;">message_id</td> <td style="text-align:center;">string</td> <td style="text-align:center;"></td> <td>消息id</td></tr> <tr><td style="text-align:center;">user_id</td> <td style="text-align:center;">number</td> <td style="text-align:center;"></td> <td>qq</td></tr> <tr><td style="text-align:center;">font</td> <td style="text-align:center;">string</td> <td style="text-align:center;"></td> <td></td></tr> <tr><td style="text-align:center;">reply</td> <td style="text-align:center;">function</td> <td style="text-align:center;"><a href="#replymessage-auto_escape">reply</a></td> <td></td></tr></tbody></table> <h4 id="reply-message-auto-escape"><a href="#reply-message-auto-escape" class="header-anchor">#</a> reply(message, auto_escape)</h4> <table><thead><tr><th style="text-align:center;">属性</th> <th style="text-align:center;">类型</th> <th style="text-align:center;">值</th> <th>说明</th></tr></thead> <tbody><tr><td style="text-align:center;">message</td> <td style="text-align:center;"><a href="#messageelem">MessageElem</a> | Iterable&lt;<a href="#messageelem">MessageElem</a>&gt; | string</td> <td style="text-align:center;"></td> <td></td></tr> <tr><td style="text-align:center;">auto_escape?</td> <td style="text-align:center;">boolean</td> <td style="text-align:center;"></td> <td></td></tr></tbody></table> <p><strong>返回值</strong> <code>Promise</code>&lt;<a href="#ret-object">Ret</a>&lt;{ message_id|string }&gt;&gt;</p> <h3 id="privatemessageeventdata"><a href="#privatemessageeventdata" class="header-anchor">#</a> PrivateMessageEventData</h3> <blockquote><p>私聊消息数据
继承于<a href="#commonmessageeventdata">公共消息数据</a></p></blockquote> <table><thead><tr><th style="text-align:center;">属性</th> <th style="text-align:center;">类型</th> <th style="text-align:center;">值</th> <th>说明</th></tr></thead> <tbody><tr><td style="text-align:center;">message_type</td> <td style="text-align:center;">string</td> <td style="text-align:center;"><code>&quot;private&quot;</code></td> <td>私聊消息</td></tr> <tr><td style="text-align:center;">sub_type</td> <td style="text-align:center;">string</td> <td style="text-align:center;"><code>&quot;friend&quot;</code> | <code>&quot;group&quot;</code> | <code>&quot;single&quot;</code> | <code>&quot;other&quot;</code> | <code>&quot;self&quot;</code></td> <td></td></tr> <tr><td style="text-align:center;">sender</td> <td style="text-align:center;"><a href="/oicq-wiki/api/成员属性.html#friendinfo">FriendInfo</a></td> <td style="text-align:center;"></td> <td>发送者</td></tr> <tr><td style="text-align:center;">auto_reply</td> <td style="text-align:center;">boolean</td> <td style="text-align:center;"></td> <td>是否自动回复</td></tr></tbody></table> <h3 id="groupmessageeventdata"><a href="#groupmessageeventdata" class="header-anchor">#</a> GroupMessageEventData</h3> <blockquote><p>群聊消息数据
继承于<a href="#commonmessageeventdata">公共消息数据</a></p></blockquote> <table><thead><tr><th style="text-align:center;">属性</th> <th style="text-align:center;">类型</th> <th style="text-align:center;">值</th> <th>说明</th></tr></thead> <tbody><tr><td style="text-align:center;">message_type</td> <td style="text-align:center;">string</td> <td style="text-align:center;"><code>&quot;group&quot;</code></td> <td>群消息</td></tr> <tr><td style="text-align:center;">sub_type</td> <td style="text-align:center;">string</td> <td style="text-align:center;"><code>&quot;normal&quot;</code> | <code>&quot;anonymous&quot;</code></td> <td>类型</td></tr> <tr><td style="text-align:center;">group_id</td> <td style="text-align:center;">number</td> <td style="text-align:center;"></td> <td>群号</td></tr> <tr><td style="text-align:center;">group_name</td> <td style="text-align:center;">string</td> <td style="text-align:center;"></td> <td>群名</td></tr> <tr><td style="text-align:center;">anonymous</td> <td style="text-align:center;"><a href="#anonymous">Anonymous</a> | null</td> <td style="text-align:center;"></td> <td>匿名消息</td></tr> <tr><td style="text-align:center;">sender</td> <td style="text-align:center;"><a href="/oicq-wiki/api/成员属性.html#memberbaseinfo">MemberBaseInfo</a></td> <td style="text-align:center;"></td> <td>发送者</td></tr> <tr><td style="text-align:center;">atme</td> <td style="text-align:center;">boolean</td> <td style="text-align:center;"></td> <td></td></tr> <tr><td style="text-align:center;">seqid</td> <td style="text-align:center;">number</td> <td style="text-align:center;"></td> <td></td></tr> <tr><td style="text-align:center;">block</td> <td style="text-align:center;">boolean</td> <td style="text-align:center;"></td> <td>是否已屏蔽</td></tr></tbody></table> <h4 id="anonymous"><a href="#anonymous" class="header-anchor">#</a> Anonymous</h4> <h3 id="gfsbasestat"><a href="#gfsbasestat" class="header-anchor">#</a> GfsBaseStat</h3> <blockquote><p>群文件基础属性</p></blockquote> <table><thead><tr><th style="text-align:center;">属性</th> <th style="text-align:center;">类型</th> <th>说明</th></tr></thead> <tbody><tr><td style="text-align:center;">fid</td> <td style="text-align:center;">string</td> <td>文件(夹)id</td></tr> <tr><td style="text-align:center;">pid</td> <td style="text-align:center;">string</td> <td>父文件夹id</td></tr> <tr><td style="text-align:center;">name</td> <td style="text-align:center;">string</td> <td></td></tr> <tr><td style="text-align:center;">user_id</td> <td style="text-align:center;">number</td> <td>创建者</td></tr> <tr><td style="text-align:center;">create_time</td> <td style="text-align:center;">number</td> <td>创建时间</td></tr></tbody></table></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">Last Updated:</span> <span class="time">9/1/2021, 7:57:42 PM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/oicq-wiki/api/系统类api.html" class="prev">
        系统类api
      </a></span> <span class="next"><a href="/oicq-wiki/event/system.html">
        系统类
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"><!----></div></div>
    <script src="/oicq-wiki/assets/js/app.879529c0.js" defer></script><script src="/oicq-wiki/assets/js/2.8d0e9e69.js" defer></script><script src="/oicq-wiki/assets/js/9.22d6aa8c.js" defer></script><script src="/oicq-wiki/assets/js/3.20fb0c26.js" defer></script>
  </body>
</html>
